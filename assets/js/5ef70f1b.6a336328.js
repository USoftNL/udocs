"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[17543],{28453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>a});var r=n(96540);const o={},i=r.createContext(o);function s(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(i.Provider,{value:t},e.children)}},67765:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Repositories/Blend_directives/pcXmlImport","title":"pc:XmlImport","description":"This article is about the pc:XmlImport Blend directive.","source":"@site/docs/Repositories/Blend_directives/pcXmlImport.md","sourceDirName":"Repositories/Blend_directives","slug":"/Repositories/Blend_directives/pcXmlImport","permalink":"/udocs/Repositories/Blend_directives/pcXmlImport","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"pcXmlImport"},"sidebar":"sidebar","previous":{"title":"pc:XmlExport","permalink":"/udocs/Repositories/Blend_directives/pcXmlExport"},"next":{"title":"pc:XmlImportApply","permalink":"/udocs/Repositories/Blend_directives/pcXmlImportApply"}}');var o=n(74848),i=n(28453);const s={id:"pcXmlImport"},a="pc",l={},c=[{value:"<strong>pc</strong>",id:"pc-1",level:2},{value:"Import format",id:"import-format",level:2},{value:"Return document",id:"return-document",level:2},{value:"Processing the return document",id:"processing-the-return-document",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsxs)(t.h1,{id:"pc",children:["pc",":XmlImport"]})}),"\n",(0,o.jsx)(t.admonition,{type:"note",children:(0,o.jsxs)(t.p,{children:["This article is about the ",(0,o.jsxs)(t.strong,{children:["pc",":XmlImport"]}),(0,o.jsx)(t.a,{href:"/Repositories/Blend_directives",children:" Blend directive"}),"."]})}),"\n",(0,o.jsx)(t.h2,{id:"pc-1",children:(0,o.jsxs)(t.strong,{children:["pc",":XmlImport"]})}),"\n",(0,o.jsxs)(t.p,{children:["Imports one or more sets of literal appdata or metadata into a USoft repository. To build the data to be imported from executing USoft Blend directives, instead of supplying them as literal data, use pc",":XmlImportApply"," instead."]}),"\n",(0,o.jsx)(t.p,{children:'Returns an XML document. See the "Return document" section below.'}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.em,{children:"Syntax"})}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'<pc:XmlImport\n     alias="*name-literal*"\n     commit="*commit-mode*"\n     source="*file-path*" >\n\n*   data-to-be-imported*\n\n</pc:XmlImport>\n\n*commit-mode*  :=  { commit | rollback }\n'})}),"\n",(0,o.jsxs)(t.p,{children:["The required ",(0,o.jsx)(t.strong,{children:"alias"})," identifies the connection to the Rules Engine that you want to use. For aliases, see pc",":RunRulesService","."]}),"\n",(0,o.jsxs)(t.p,{children:["The optional ",(0,o.jsx)(t.em,{children:"commit-mode"}),' determines whether or not the operation is committed after import. Choose the "rollback" option for debugging purposes, in particular to find out if the external data violate any rules. In terms of data change, the net effect of running the operation with "rollback" is null.']}),"\n",(0,o.jsxs)(t.p,{children:["To import successfully, you must specify either the source attribute or the data-to-be-imported XML content. If you use source, its value must point to an existing file on the file system that contains the data. Otherwise, the <pc",":XmlImport","> element must have exactly 1 child element."]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.em,{children:"Example"})}),"\n",(0,o.jsx)(t.p,{children:'This example resets a "Allow_Disable_Constraint" configuration parameter in USoft Authorizer so that, in a next step, data may be imported against a disabled Rules Engine.'}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-xml",children:'<pc:XmlImport connection="{$authconn}"  commit="commit">\n  <Additional_Parameters documentName="Additional Parameters">\n    <T_AUTH_OC_PARAMS OC_ID="LAN" SET_TYPE="URE" PARAM_NAME="Allow_Disable_Constraint" PARAM_VALUE="True"/>\n  </Additional_Parameters>\n</pc:XmlImport>\n'})}),"\n",(0,o.jsx)(t.h2,{id:"import-format",children:"Import format"}),"\n",(0,o.jsxs)(t.p,{children:["The data to be imported must have the USoft ",(0,o.jsx)(t.a,{href:"/udocs/Repositories/USoft_XML_formats/XML_singletable_document_format",children:"single-table XML format"})," or ",(0,o.jsx)(t.a,{href:"/udocs/Repositories/USoft_XML_formats/XML_multitable_document_format",children:"multi-table XML format"}),". You can produce such a format by calling sql",":DataTableSetExport"," as a Blend call as in:"]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:"<pc:evaluate select=\"sql:DataTableSetExport($instance, '.*', 'c:\\temp\\myoutputfile.xml', '')\" />\n"})}),"\n",(0,o.jsx)(t.p,{children:"or by calling, from a USoft tool interface:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-sql",children:"INVOKE XML.MultiExportTables WITH SELECT regular-expression \u2026\n"})}),"\n",(0,o.jsx)(t.h2,{id:"return-document",children:"Return document"}),"\n",(0,o.jsx)(t.p,{children:"If the import is successful, the return document looks something like this."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-xml",children:'<Participants documentName="Participants">\n  <PARTICIPANT RES_ID="179" PERSON_ID="144" INSURANCE="Y" DIET="Vegetarian" WITHDRAWAL_DATE="" />\n</Participants>\n'})}),"\n",(0,o.jsx)(t.p,{children:"This is potentially different from the input data, because the return document is a report of record values as they appear, or would appear, after constraints are applied. For example, if a business rule causes the INSURANCE flag for the imported record to be set to 'Y', the return data has INSURANCE='Y' but the input data has INSURANCE='N'."}),"\n",(0,o.jsx)(t.p,{children:'If you pass commit="commit", the return document reflects the database state. If you pass commit="rollback" (the default), the return document reflects what the database state would be if you had committed.'}),"\n",(0,o.jsx)(t.h2,{id:"processing-the-return-document",children:"Processing the return document"}),"\n",(0,o.jsxs)(t.p,{children:["By specifying the optional assign",":variable"," attribute, you can apply an xpath-expression to the return document and store the result in variable."]}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'assign:*variable*="*xpath-expression*"\n'})}),"\n",(0,o.jsx)(t.p,{children:"If you have been importing multiple documents successfully, each of the imported results is queued in the variable. The results may be dequeued one-by-one."}),"\n",(0,o.jsx)(t.p,{children:"\xa0"})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}}}]);