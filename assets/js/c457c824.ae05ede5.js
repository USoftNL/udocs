"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[94985],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var s=t(96540);const a={},i=s.createContext(a);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},31679:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Task_flow/Tasks/Delayed_processing_of_tasks","title":"Delayed processing of tasks","description":"When new data are inserted or updated either through online data entry or an import task, you can delay business rules processing such as complicated calculations until a later moment.","source":"@site/docs/Task_flow/Tasks/Delayed_processing_of_tasks.md","sourceDirName":"Task_flow/Tasks","slug":"/Task_flow/Tasks/Delayed_processing_of_tasks","permalink":"/udocs/Task_flow/Tasks/Delayed_processing_of_tasks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Delayed_processing_of_tasks"},"sidebar":"sidebar","previous":{"title":"Messages in SQL tasks and Import tasks","permalink":"/udocs/Task_flow/Tasks/Messages_in_SQL_tasks_and_Import_tasks"},"next":{"title":"Making tasks faster","permalink":"/udocs/Task_flow/Tasks/Making_tasks_faster"}}');var a=t(74848),i=t(28453);const o={id:"Delayed_processing_of_tasks"},r="Delayed processing of tasks",l={},d=[{value:"Delayed processing with a status field",id:"delayed-processing-with-a-status-field",level:2},{value:"Delayed processing with deactivation",id:"delayed-processing-with-deactivation",level:2},{value:"",id:"",level:2}];function c(e){const n={admonition:"admonition",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"delayed-processing-of-tasks",children:"Delayed processing of tasks"})}),"\n",(0,a.jsx)(n.p,{children:"When new data are inserted or updated either through online data entry or an import task, you can delay business rules processing such as complicated calculations until a later moment."}),"\n",(0,a.jsx)(n.p,{children:"This can be achieved by using a status field, or by temporarily deactivating constraints or relationship checks."}),"\n",(0,a.jsx)(n.p,{children:"Delayed processing means that you separate data entry or data import from business rules processing. Data are processed in two stages."}),"\n",(0,a.jsx)(n.p,{children:"When you import data, this simplifies error handling and job design. You can concentrate on getting the data into the database and worry about post-processing later."}),"\n",(0,a.jsx)(n.p,{children:"During online data entry, system workload and concurrency are reduced if you delay operations that are not needed interactively."}),"\n",(0,a.jsx)(n.h2,{id:"delayed-processing-with-a-status-field",children:"Delayed processing with a status field"}),"\n",(0,a.jsx)(n.p,{children:"To delay processing by using a status field:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Define a status field that enables you to make the difference between newly entered or imported data, and existing data."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Define an import task that sets the status field to a default value (e.g. I for Imported) for all imported records."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Alternatively, when dealing with online entry, make sure the status field is set to a default for all newly entered data."}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:"Define a SQL task that affects only the records with the default value."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"There are many possibilities here. You can also define the delayed processing in a productive constraint, perhaps scheduled to a clock time by a join with the T_APP_TIME application timer table."}),"\n",(0,a.jsx)(n.p,{children:"When dealing with an import task, much depends on whether the delayed processing only concerns batch import data, or whether it also concerns online data entry."}),"\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:"Run both the import task and the SQL task one after the other at different times."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"delayed-processing-with-deactivation",children:"Delayed processing with deactivation"}),"\n",(0,a.jsx)(n.p,{children:"This concerns import tasks or SQL tasks (as opposed to online data entry)."}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsx)(n.p,{children:"Constraint and relationship deactivation is contrary to the idea of using a Rules Engine. The basic idea of business rule definition is that business rules apply independently of the information system, and therefore must ALWAYS be checked."})}),"\n",(0,a.jsx)(n.p,{children:"If you deactivate constraints, the system can no longer guarantee that rules are implemented to all data. Therefore only use deactivation exceptionally, as a last resort."}),"\n",(0,a.jsx)(n.p,{children:"In particular, be careful when deactivating transitional constraints. For non-transitional constraints, you can always look for data corruption later (for instance, by running a BenchMark violation report). For transitional constraints, you cannot, because the OLD column values are not stored."}),"\n",(0,a.jsx)(n.p,{children:"To delay processing by using constraint or relationship deactivation:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Define the import task."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"At the beginning of the import (or SQL) task, include one or more action tasks that deactivate constraint checks or relationship checks."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Run the import (or SQL) task. Deactivated constraints and relationship checks are not fired. They are only deactivated for the duration of the job."}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"Check for data corruption later, and fix manually or by running a SQL task."}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"",children:"\xa0"})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);