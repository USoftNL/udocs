"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[6396],{28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var s=n(96540);const a={},o=s.createContext(a);function r(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(o.Provider,{value:t},e.children)}},32669:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"Extensions/XML_internal_component/XMLSQLStatementExport","title":"XML.SQLStatementExport","description":"This article is about the SQLStatementExport method of the XML internal component.","source":"@site/docs/Extensions/XML_internal_component/XMLSQLStatementExport.md","sourceDirName":"Extensions/XML_internal_component","slug":"/Extensions/XML_internal_component/XMLSQLStatementExport","permalink":"/udocs/Extensions/XML_internal_component/XMLSQLStatementExport","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"XMLSQLStatementExport"},"sidebar":"sidebar","previous":{"title":"XML.SQLExport","permalink":"/udocs/Extensions/XML_internal_component/XMLSQLExport"},"next":{"title":"Web service components","permalink":"/udocs/Extensions/Web_service_components"}}');var a=n(74848),o=n(28453);const r={id:"XMLSQLStatementExport"},i="XML.SQLStatementExport",l={},p=[{value:"<strong>XML.SQLStatementExport</strong>",id:"xmlsqlstatementexport-1",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"xmlsqlstatementexport",children:"XML.SQLStatementExport"})}),"\n",(0,a.jsx)(t.admonition,{type:"note",children:(0,a.jsxs)(t.p,{children:["This article is about the ",(0,a.jsx)(t.strong,{children:"SQLStatementExport"})," method of the ",(0,a.jsx)(t.a,{href:"/Extensions/XML_internal_component",children:"XML internal component"}),"."]})}),"\n",(0,a.jsx)(t.h2,{id:"xmlsqlstatementexport-1",children:(0,a.jsx)(t.strong,{children:"XML.SQLStatementExport"})}),"\n",(0,a.jsxs)(t.p,{children:["Exports data to the ",(0,a.jsx)(t.a,{href:"/udocs/Repositories/USoft_XML_formats/MetaRowsFields_document_format",children:"Meta-Rows-Fields document format"})," on the basis of a SELECT statement."]}),"\n",(0,a.jsx)(t.p,{children:"This export method is the same as XML.SQLExport, except that the entire SELECT statement is passed as a variable element, which allows you to build or store a SELECT statement dynamically and then pass it to the export command."}),"\n",(0,a.jsxs)(t.p,{children:["In the same way as ",(0,a.jsx)(t.strong,{children:"XML.SQLExport"}),", this export method has the drawback that the result is NOT re-importable with ",(0,a.jsx)(t.strong,{children:"XML.Import"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"In the same way as XML.SQLExport, this export method has the advantage that it can deal with compound column expressions provided they are aliased. Also, the result contains metadata information. In summary, the result contains data but also information about how this data was queried."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.em,{children:"Syntax"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:"INVOKE     XML.SqlStatementExport WITH\nSELECT     sql-statement\n\nsql-statement  ::=\n\n  SELECT      value    parameter-name\n  ,           ...\n  ,           expression   alias\n  ,           ...\n  FROM        ...\n  WHERE       ...\n  GROUP BY    ...\n  ORDER BY    \u2026\n"})}),"\n",(0,a.jsx)(t.p,{children:"In the SELECT output list, value\xa0 parameter-name pairs and expressions may appear in any order. For possible parameter-names see the Parameters section later in this help topic."}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.em,{children:"Example 1"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:"INVOKE     XML.SQLStatementExport WITH\nSELECT     'select ''yes'' UseIOFormats, * from employee'\n"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.em,{children:"Example 2"})}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:"INVOKE     XML.SQLStatementExport WITH\nSELECT     sql-statement\nFROM       my-report-table\n"})}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.em,{children:"Example 3"})}),"\n",(0,a.jsx)(t.p,{children:"The result of this call:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sql",children:"INVOKE     XML.SQLStatementExport WITH\nSELECT     'select concat( \n               concat( t.destination, '' '' )\n            ,  t.tour_type \n            ) tour_label, tp.num_days\n            from tour_programme tp, tour t\n            relate tp \"IS FOLLOWED BY\" t\n            where t.destination = ''AUSTRALIA''\n            group by t.destination, t.tour_type, tp.num_days'\n"})}),"\n",(0,a.jsx)(t.p,{children:"is this Meta-Rows-Fields document:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-xml",children:'<SQLXMLExport>\n  <Meta>\n    <OutputExpressions>\n      <Expression alias="tour_label">CONCAT(CONCAT(t.DESTINATION, \'; \';), t.TOUR_TYPE)</Expression>\n      <Column tableName="TOUR_PROGRAMME" tableAlias="tp" name="NUM_DAYS" alias="NUM_DAYS" objectNamePlural="Tour Programmes" prompt="Number of Days"/>\n    </OutputExpressions>\n  </Meta>\n  <Rows>\n    <Row>\n      <Field alias="tour_label">AUSTRALIA ISLAND SUNTANNER</Field>\n      <Field alias="NUM_DAYS">12</Field>\n    </Row>\n    <Row>\n      <Field alias="tour_label">AUSTRALIA UP OR DOWN THE TRACK</Field>\n      <Field alias="NUM_DAYS">10</Field>\n    </Row>\n  </Rows>\n</SQLXMLExport>\n'})}),"\n",(0,a.jsx)(t.p,{children:"\xa0"})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);