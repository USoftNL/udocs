"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[57660],{16061:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"Authorisation_and_access/USoft_Authorizer_in_different_environments/USoft_Authorizer_as_a_module","title":"USoft Authorizer as a module","description":"USoft recommends that in USoft 10, you declare the USoft Authorizer application as a module in your Development environment by following these steps:","source":"@site/docs/Authorisation_and_access/USoft_Authorizer_in_different_environments/USoft_Authorizer_as_a_module.md","sourceDirName":"Authorisation_and_access/USoft_Authorizer_in_different_environments","slug":"/Authorisation_and_access/USoft_Authorizer_in_different_environments/USoft_Authorizer_as_a_module","permalink":"/udocs/Authorisation_and_access/USoft_Authorizer_in_different_environments/USoft_Authorizer_as_a_module","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"USoft_Authorizer_as_a_module"},"sidebar":"sidebar","previous":{"title":"USoft Authorizer as a Production-time application","permalink":"/udocs/Authorisation_and_access/USoft_Authorizer_in_different_environments/USoft_Authorizer_as_a_Productiontime_application"},"next":{"title":"Authentication and USoft","permalink":"/udocs/Authorisation_and_access/Authentication_and_USoft"}}');var i=n(74848),a=n(28453);const r={id:"USoft_Authorizer_as_a_module"},s="USoft Authorizer as a module",l={},h=[{value:"The &quot;classic&quot; view of USoft Authorizer as a separate application",id:"the-classic-view-of-usoft-authorizer-as-a-separate-application",level:2},{value:"Workaround: declared authorisation tables",id:"workaround-declared-authorisation-tables",level:2},{value:"Optimal solution: authorisation as a module",id:"optimal-solution-authorisation-as-a-module",level:2}];function d(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"usoft-authorizer-as-a-module",children:"USoft Authorizer as a module"})}),"\n",(0,i.jsx)(t.p,{children:"USoft recommends that in USoft 10, you declare the USoft Authorizer application as a module in your Development environment by following these steps:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Open Definer in your Development environment."}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"In the Application Modules window (accessible from the menu via Tools, Manage Internal Interfaces, Modules), declare USoft Authorizer as a module:"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Module Name: USAUTH"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Load Module: Yes"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"Description: the USoft Authorizer"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.ol,{start:"3",children:["\n",(0,i.jsx)(t.li,{children:"In the Internal Interface Consumers window (accessible from the menu via Tools, Manage Internal Interfaces, Consumed Interfaces), declare the USAUTH module as a consumed module:"}),"\n"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Module Name: USAUTH"}),"\n",(0,i.jsx)(t.li,{children:"File to be used in the synchronization process: <USoft installation directory>\\APP\\USAUTH.con"}),"\n"]}),"\n",(0,i.jsxs)(t.ol,{start:"4",children:["\n",(0,i.jsx)(t.li,{children:'Press the "Synchronize Internal Interfaces" button.'}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"The remainder of this help topic helps you understand the implications of declaring USoft Authorizer as a module. For more general information about modules, please go to USoft Definer Help."}),"\n",(0,i.jsx)(t.h2,{id:"the-classic-view-of-usoft-authorizer-as-a-separate-application",children:'The "classic" view of USoft Authorizer as a separate application'}),"\n",(0,i.jsx)(t.p,{children:'The layer of authorisation rules is always checked by the runtime Rules Engine. The "classic" or default view of authorisation rules in USoft is as a separate layer defined in a separate application (USoft Authorizer). In this setup, the application rules (the Rules Engine) defined in USoft Definer and the authorisation rules defined in USoft Authorizer are in different metamodels:'}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"The Rules Engine has no knowledge of authorisation rules. It only knows about roles and what each role gives access to."}),"\n",(0,i.jsx)(t.li,{children:"USoft Authorizer has no knowledge of application rules other than a list of tables and columns (obtained through USoft Authorizer's Fill Authorizer Tables routine)."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Example"})}),"\n",(0,i.jsx)(t.p,{children:'A user application may have Projects, Persons, and Project Team Members, with Project Team Member as an intersection table between the Project and Person tables. Content in these (3) tables must determine which projects a given person has access to. In the "classic" USoft Authorizer setup, the only way to achieve this is to run the Fill Authorizer Tables routine, define a Table Right on the Project table, and append an authorisation Condition to that Table Right of the following type:'}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"project_id in (\n\t \xa0 select \xa0 \xa0''\n\t \xa0 from \xa0 \xa0 \xa0project_team_member ptm\n\t \xa0 , \xa0 \xa0 \xa0 \xa0 person p\n\t \xa0 where \xa0 \xa0 ptm.person_id = p.person_id\n\t \xa0 and \xa0 \xa0 \xa0 p.login_name = USER\n\t)\n\n"})}),"\n",(0,i.jsx)(t.p,{children:"This arrangement is cumbersome. As the example shows, data access is often controlled by a combination of content in application tables and content in authorizer tables. But the application has no knowledge of the authorisation layer."}),"\n",(0,i.jsx)(t.h2,{id:"workaround-declared-authorisation-tables",children:"Workaround: declared authorisation tables"}),"\n",(0,i.jsx)(t.p,{children:'For this reason, in the past, many USoft teams declared authorisation tables (T_AUTH_... prefixed tables delivered by USoft) AS IF they were part of the user application. This is possible because in the USoft architecture, T_AUTH_... tables are always present. Moreover, the "T_AUTH_..." prefix guarantees that there is no confusion between USoft Authorizer and the user application.'}),"\n",(0,i.jsx)(t.p,{children:'This workaround, however, is suboptimal. It implies illegal use of the USoft Authorizer tables. The workaround does not guarantee that restrictions implemented by domains, relationships and constraints within the USoft Authorizer application (as delivered by USoft in the "USAUTH.con" binary file) are enforced at data manipulation time. Violations could surface at a later time.'}),"\n",(0,i.jsx)(t.h2,{id:"optimal-solution-authorisation-as-a-module",children:"Optimal solution: authorisation as a module"}),"\n",(0,i.jsx)(t.p,{children:"USoft is now able to deliver modular development. To be a module of your application at development time is the ideal status for USoft Authorizer, because this enables the combination of two desirable things:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:'The restrictions laid down in "USAUTH.con", and thereby the authorisation data quality, is automatically enforced.'}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"The data structure of USoft Authorizer tables is available to developers of your application. For example, they can write constraints directly against the T_AUTH_USER table."}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>s});var o=n(96540);const i={},a=o.createContext(i);function r(e){const t=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),o.createElement(a.Provider,{value:t},e.children)}}}]);