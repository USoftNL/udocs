"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[24540],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(96540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}},41650:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/b8f89b3e-74f6-4572-978b-e0ec12ca4d81-fa3397a23fc63fbcfc127b16ce4c54b8.png"},92260:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"Services/Authentication_in_services/SAML_authentication","title":"SAML authentication","description":"SAML(Security Assertion Markup Language) is an open standard for exchanging authentication information between an identity provider (IdP) and a service provider (SP). That means that you can use one set of credentials to log into many different websites, and to accomplish web browser single sign-on (SSO).","source":"@site/docs/Services/Authentication_in_services/SAML_authentication.md","sourceDirName":"Services/Authentication_in_services","slug":"/Services/Authentication_in_services/SAML_authentication","permalink":"/udocs/Services/Authentication_in_services/SAML_authentication","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"SAML_authentication"},"sidebar":"sidebar","previous":{"title":"USoft authentication for services","permalink":"/udocs/Services/Authentication_in_services/USoft_authentication_for_services"},"next":{"title":"Anonymous authentication","permalink":"/udocs/Services/Authentication_in_services/Anonymous_authentication"}}');var s=t(74848),a=t(28453);const o={id:"SAML_authentication"},r="SAML authentication",c={},h=[{value:"How SAML SSO works",id:"how-saml-sso-works",level:2},{value:"AuthSaml annotation syntax",id:"authsaml-annotation-syntax",level:2},{value:"How to specify SAML authenthication for a server",id:"how-to-specify-saml-authenthication-for-a-server",level:2},{value:"How to specify SAML authentication for a service",id:"how-to-specify-saml-authentication-for-a-service",level:2},{value:"How to specify SAML authentication for a method",id:"how-to-specify-saml-authentication-for-a-method",level:2}];function l(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"saml-authentication",children:"SAML authentication"})}),"\n",(0,s.jsx)(n.p,{children:"SAML(Security Assertion Markup Language) is an open standard for exchanging authentication information between an identity provider (IdP) and a service provider (SP). That means that you can use one set of credentials to log into many different websites, and to accomplish web browser single sign-on (SSO)."}),"\n",(0,s.jsx)(n.p,{children:"The authentication moment is the moment when the request enters the service framework. That means that a service always needs credentials."}),"\n",(0,s.jsxs)(n.p,{children:["If the ",(0,s.jsx)(n.strong,{children:"Session expiration seconds"})," field of the connection used to connect to the rule service has a value bigger than 0, then a session is created on the server side, and the client gets a SAML authentication cookie in the response. With this cookie, the client can connect again and use the same server session."]}),"\n",(0,s.jsx)(n.h2,{id:"how-saml-sso-works",children:"How SAML SSO works"}),"\n",(0,s.jsx)(n.p,{children:"In a SAML login process there are three roles:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"user principal"})," (client) that requests a resource from the service provider (service framework) and provides an unique attribute (e.g. e-mail address) as user name."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"service provider (SP)"})," redirects the user principal to the identity provider (IdP) for authentication."]}),"\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"identity provider (IdP)"})," validates the credentials and if valid the identity provider creates a SAML response assertion for the service provider. The user principal has now access to the resource."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(41650).A+"",width:"906",height:"350"})}),"\n",(0,s.jsx)(n.h2,{id:"authsaml-annotation-syntax",children:"AuthSaml annotation syntax"}),"\n",(0,s.jsx)(n.p,{children:"You specify SAML authentication for a server by a setting in Service Definer, as explained below."}),"\n",(0,s.jsxs)(n.p,{children:["You specify SAML authentication for a service or method by setting an ",(0,s.jsx)(n.strong,{children:"AuthSaml"})," annotation."]}),"\n",(0,s.jsxs)(n.p,{children:["This section shows ",(0,s.jsx)(n.strong,{children:"AuthSaml"})," annotation syntax. The next sections in this article tell you how to apply this ",(0,s.jsx)(n.strong,{children:"AuthSaml"})," syntax in different situations."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Syntax"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-language-java",children:'@AuthSaml |\n@AuthSaml( "*entity-name*" ) |\n@AuthSaml( *settings* )\n\n*settings*  ::=  *name*=*value* [ , *name*=*value*... ]\n\n*name* ::= { \n      value  | \n      entity | \n\n      wantsAssertionsSigned | \n      signMessages          |\n\n      enableArtifactResolution |\n      enableSoap\n }\n\n\n'})}),"\n",(0,s.jsx)(n.p,{children:"The @AuthSaml annotation by itself, without parenthesised content, is a special use. It is only used to specify SAML authentication for a specific method if other methods in the service do not use SAML."}),"\n",(0,s.jsxs)(n.p,{children:["The @AuthSaml annotation with a single ",(0,s.jsx)(n.em,{children:"entity-name"})," is a shortcut for:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-language-java",children:"@AuthSaml( value=\u201d*entity-name*\u201d )\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Otherwise, @AuthSaml uses a comma-separated ",(0,s.jsx)(n.em,{children:"settings"})," list of one or more ",(0,s.jsx)(n.em,{children:"name=value"})," pairs."]}),"\n",(0,s.jsxs)(n.p,{children:["In each setting, ",(0,s.jsx)(n.em,{children:"name"})," is an unquoted name from the closed set of names discussed here."]}),"\n",(0,s.jsxs)(n.p,{children:["In each setting, ",(0,s.jsx)(n.em,{children:"value"})," is double-quoted if a string value, and unquoted if a numeric value or a boolean value (true or false)."]}),"\n",(0,s.jsxs)(n.p,{children:["The names ",(0,s.jsx)(n.strong,{children:"value"})," and ",(0,s.jsx)(n.strong,{children:"entity"}),' expect string values. They identify the SAML Security Configuration that you have identified by the "Entity name\u201d attribute in USoft Service Definer. Use ',(0,s.jsx)(n.strong,{children:"value"})," by default. The use of ",(0,s.jsx)(n.strong,{children:"entity"})," is discussed later in this article."]}),"\n",(0,s.jsx)(n.p,{children:"The remaining names expect boolean values:"}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.strong,{children:"wantsAssertionsSigned"})," is not set to false, the service will accept only signed assertions. Any unsigned assertions may get rejected. The default is true."]}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.strong,{children:"signMessages"})," is not set to false, any SAML messages sent by the service are signed by its signing key (if present). This also includes its own metadata. The default is true."]}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.strong,{children:"enableArtifactResolution"}),' is not set to false, the usage of artifact resolution is enabled. The assertions themselves are sent by default over SOAP, using an "artifact string" sent by regular HTTP POST as its identifier. The default is true.']}),"\n",(0,s.jsxs)(n.p,{children:["If ",(0,s.jsx)(n.strong,{children:"enableSoap"})," is set to false, any SOAP endpoints are disabled. In this case, the service will be forced to use HTTP POST as the default method for sending and receiving assertions. Also, artifact resolution will be disabled (regardless of any setting for enableArtifactResolution) since artifact resolution would require SOAP. The default is true."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-language-java",children:'@AuthSaml(value="adfs", wantsAssertionsSigned=false)\n'})}),"\n",(0,s.jsx)(n.h2,{id:"how-to-specify-saml-authenthication-for-a-server",children:"How to specify SAML authenthication for a server"}),"\n",(0,s.jsx)(n.p,{children:"1.\xa0In Service Definer, open the server window for which you want to specify SAML authentication."}),"\n",(0,s.jsx)(n.p,{children:"2.\xa0On the Security tab, select a value for the Default Security Configuration from the list."}),"\n",(0,s.jsx)(n.p,{children:"All services that do not have a local authentication annotation will now use SAML authentication according to this configuration."}),"\n",(0,s.jsx)(n.h2,{id:"how-to-specify-saml-authentication-for-a-service",children:"How to specify SAML authentication for a service"}),"\n",(0,s.jsx)(n.p,{children:"1.\xa0In Service Definer, open the window for the service for which you want to specify SAML authentication."}),"\n",(0,s.jsx)(n.p,{children:"2.\xa0Set the Annotation attribute of the service to one of the following equivalents:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'@AuthSaml( "*entity-name*" )\n@AuthSaml( value="*entity-name*" )\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["where ",(0,s.jsx)(n.em,{children:"entity-name"})," is a valid entity name of a SAML Security Configuration. When using a connection to the Rules Engine for this service, the connection session name must be the same as the SAML configuration entity name."]}),"\n",(0,s.jsx)(n.p,{children:"Alternatively, to allow multiple connections in a service using the same SAML configuration, set the Annotation attribute of the service to:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'@AuthSaml( entity="*entity-name*" )\n\n'})}),"\n",(0,s.jsx)(n.p,{children:"In this case, the session name of the connection used in the service may have any value."}),"\n",(0,s.jsx)(n.h2,{id:"how-to-specify-saml-authentication-for-a-method",children:"How to specify SAML authentication for a method"}),"\n",(0,s.jsx)(n.p,{children:"You can also set SAML authentication for an individual method of a service. Do this by setting the Annotation attribute of that method to one of the following equivalents:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'@AuthSaml( "*entity-name*" )\n@AuthSaml( value="*entity-name*" )\n\n'})}),"\n",(0,s.jsxs)(n.p,{children:["You can also set SAML authentication for an individual method in a service that uses (for other methods) a different authentication mechanism than SAML. Do this by setting the Annotation attribute of the method to the ",(0,s.jsx)(n.strong,{children:"AuthSaml"})," annotation without parenthesised parameters:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"@AuthSaml\n"})}),"\n",(0,s.jsx)(n.p,{children:"This causes the default SAML configuration set for the server to be used for the method."})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);