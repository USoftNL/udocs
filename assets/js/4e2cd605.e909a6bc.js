"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[10796],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(96540);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}},82062:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Repositories/Blend_scripts_for_repository_management/Tips_and_tricks_for_USoft_Blend_beginners","title":"Tips and tricks for USoft Blend beginners","description":"This section highlights some typical problems that beginners have with USoft Blend. This will help you get over these problems quickly.","source":"@site/docs/Repositories/Blend_scripts_for_repository_management/Tips_and_tricks_for_USoft_Blend_beginners.md","sourceDirName":"Repositories/Blend_scripts_for_repository_management","slug":"/Repositories/Blend_scripts_for_repository_management/Tips_and_tricks_for_USoft_Blend_beginners","permalink":"/udocs/Repositories/Blend_scripts_for_repository_management/Tips_and_tricks_for_USoft_Blend_beginners","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Tips_and_tricks_for_USoft_Blend_beginners"},"sidebar":"sidebar","previous":{"title":"Learning USoft Blend for repository management","permalink":"/udocs/Repositories/Blend_scripts_for_repository_management/Learning_USoft_Blend_for_repository_management"},"next":{"title":"Understanding USoft Blend","permalink":"/udocs/Repositories/Blend_scripts_for_repository_management/Understanding_USoft_Blend"}}');var r=t(74848),i=t(28453);const o={id:"Tips_and_tricks_for_USoft_Blend_beginners"},a="Tips and tricks for USoft Blend beginners",l={},d=[{value:"Node sets are different from strings",id:"node-sets-are-different-from-strings",level:2},{value:"Curly braces are needed to have values computed",id:"curly-braces-are-needed-to-have-values-computed",level:2},{value:"Sandbox scripts are best for debugging",id:"sandbox-scripts-are-best-for-debugging",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"tips-and-tricks-for-usoft-blend-beginners",children:"Tips and tricks for USoft Blend beginners"})}),"\n",(0,r.jsx)(n.p,{children:"This section highlights some typical problems that beginners have with USoft Blend. This will help you get over these problems quickly."}),"\n",(0,r.jsx)(n.h2,{id:"node-sets-are-different-from-strings",children:"Node sets are different from strings"}),"\n",(0,r.jsxs)(n.p,{children:["To work with USoft Blend successfully, it's a good idea to constantly keep in mind the difference between ",(0,r.jsx)(n.strong,{children:"node sets"})," and ",(0,r.jsx)(n.strong,{children:"strings"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"In practice, you often get a string when you expect a string, and a node set when you expect a node set, but if you don't understand the difference you will ultimately get stuck in situations you will find difficult to solve."}),"\n",(0,r.jsxs)(n.p,{children:["For example, ",(0,r.jsxs)(n.strong,{children:["pc",":value-of"]})," is for evaluating and returning string values, so that you will have no trouble understanding that"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<pc:value-of select=\"concat('A','B')\"/>\n"})}),"\n",(0,r.jsx)(n.p,{children:"will give you the string value:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"AB\n"})}),"\n",(0,r.jsxs)(n.p,{children:["But beginners often forget that ",(0,r.jsx)(n.strong,{children:"select"})," attributes in XSLT, and therefore also in USoft Blend, expect ",(0,r.jsx)(n.strong,{children:"node set"})," expressions as a default. This script:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<pc:value-of select="xy">\n  <xy>z</xy>\n</pc:value-of>\n'})}),"\n",(0,r.jsx)(n.p,{children:"will return:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"z\n"})}),"\n",(0,r.jsxs)(n.p,{children:["If you wanted to return the value \u201cxy\u201d instead, you would need to quote the value of the ",(0,r.jsx)(n.strong,{children:"select"})," attribute:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<pc:value-of select=\"'xy'\">\n  <xy>z</xy>\n</pc:value-of>\n"})}),"\n",(0,r.jsxs)(n.p,{children:['Node sets and strings are the 2 most important data types in XSLT and in USoft Blend. If node sets are new to you, start by reading the "Node set expressions\u201d section of the "',(0,r.jsx)(n.a,{href:"/udocs/Repositories/Blend_scripts_for_repository_management/Guide_to_Blend_expressions_and_data_types",children:"Guide to Blend expressions and data types"}),"\u201d article."]}),"\n",(0,r.jsx)(n.h2,{id:"curly-braces-are-needed-to-have-values-computed",children:"Curly braces are needed to have values computed"}),"\n",(0,r.jsxs)(n.p,{children:["Beginners are often confused by the fact that in some places, they need to write ",(0,r.jsx)(n.strong,{children:"curly braces"})," to get values evaluated, while in other places, they don't."]}),"\n",(0,r.jsxs)(n.p,{children:["In this example, ",(0,r.jsxs)(n.strong,{children:["pc",":assign-string"]}),(0,r.jsx)(n.em,{children:"expects"})," a string value, so if you pass a string value, you simply pass it as an attribute value (between the double quotes):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<pc:assign-string username="ADMIN"/>\n'})}),"\n",(0,r.jsx)(n.p,{children:"But if you pass an XPath expression, you need to write curly braces to indicate that the expression is to be evaluated and converted to the expected string type:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<pc:assign-string workingdir="{directories:Get()}"/>\n'})}),"\n",(0,r.jsx)(n.p,{children:'In this particular example, the curly-braced expression refers to a function, but that is not the point. The point is that a literal is expected but the value supplied is not a literal: it is an expression to be evaluated. The result is converted to the expected string. The expression is said to "evaluate to a string\u201d.'}),"\n",(0,r.jsxs)(n.p,{children:["The reverse can be seen in this contrasting example. Because it is the mission of ",(0,r.jsxs)(n.strong,{children:["pc",":value-of"]})," to evaluate an XPath expression and convert it to a string value, its ",(0,r.jsx)(n.strong,{children:"select"})," attribute ",(0,r.jsx)(n.em,{children:"expects"})," an XPath expression and not a string. As a result, if it is an XPath expression that you are supplying, you must write it WITHOUT curly braces:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:"<pc:value-of select=\"path:Combine('c:\\temp',$mysubdir)\"/>\n"})}),"\n",(0,r.jsx)(n.p,{children:"By contrast, in contexts that DO expect string values, such as the following context in which a directory path is expected, you MUST write curly braces if the value you supply is not a literal string:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<pc:assign-string mysubdir="temp2">\n<pc:DeleteDirectories>\n     <Directory dirpath="{path:Combine(\'c:\\temp\',$mysubdir)}" />\n     ...\n</pc:DeleteDirectories>\n'})}),"\n",(0,r.jsxs)(n.p,{children:['For more, read the "Evaluated expressions vs. literal expressions\u201d sections at the end of the "',(0,r.jsx)(n.a,{href:"/udocs/Repositories/Blend_scripts_for_repository_management/Guide_to_Blend_expressions_and_data_types",children:"Guide to Blend expressions and data types"}),"\u201d article."]}),"\n",(0,r.jsx)(n.h2,{id:"sandbox-scripts-are-best-for-debugging",children:"Sandbox scripts are best for debugging"}),"\n",(0,r.jsx)(n.p,{children:"USoft Blend is a simple scripting utility built on top of XSLT 1.0. It is not a fully-fledged programming language. Programmers often look in vain for debugging tools, logging behaviour and error reporting, but these facilities are few and far between in USoft Blend. Another drawback is that USoft Blend is USoft-specific and therefore you cannot easily find help on the Internet."}),"\n",(0,r.jsxs)(n.p,{children:["Best practice when debugging is to keep constantly one or more ",(0,r.jsx)(n.em,{children:"sandbox scripts"})," at hand. Make sure these scripts only contain the snippet that you want to test and understand the behaviour of."]}),"\n",(0,r.jsxs)(n.p,{children:["If you are not completely sure about some code, do not hesitate to test it in a sandbox first. Once tested, a snippet can easy be cut-and-pasted into your production script. Here is a sandbox script that tests the behaviour of the ",(0,r.jsx)(n.strong,{children:"select"})," attribute of ",(0,r.jsxs)(n.strong,{children:["pc",":value-of"]}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",children:'<?xml version="1.0" encoding="UTF-8"?>\n<mytest xmlns:pc="Processing.Command">\n  <pc:value-of select="xy">\n    <xy>z</xy>\n  </pc:value-of>\n</mytest>\n'})}),"\n",(0,r.jsx)(n.p,{children:'Put this in a file called "mytest.xml\u201d and call that file like so:'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"> *usoft-bindir*\\ublendit.exe mytest.xml\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Please click ",(0,r.jsx)(n.a,{href:"/udocs/Repositories/Blend_scripts_for_repository_management/Guide_to_Blend_debugging",children:"here"})," for more debugging tips."]}),"\n",(0,r.jsx)(n.p,{children:"\xa0"})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);