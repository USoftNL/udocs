"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[93326],{5954:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"Services/Web_socket_services/USoft_Default_Web_Socket_Provider","title":"USoft Default Web Socket Provider","description":"The USoft Default Web Socket Provider allows you to implement a WebSocket serviceand gives you access to utility functions for connecting to the Rules Engine. It also provide access to broadcast and send functions.","source":"@site/docs/Services/Web_socket_services/USoft_Default_Web_Socket_Provider.md","sourceDirName":"Services/Web_socket_services","slug":"/Services/Web_socket_services/USoft_Default_Web_Socket_Provider","permalink":"/udocs/Services/Web_socket_services/USoft_Default_Web_Socket_Provider","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"USoft_Default_Web_Socket_Provider"},"sidebar":"sidebar","previous":{"title":"Web socket services","permalink":"/udocs/Services/Web_socket_services/"},"next":{"title":"Example: USoft Default Web Socket Provider for a Chat application","permalink":"/udocs/Services/Web_socket_services/Example_USoft_Default_Web_Socket_Provider_for_a_Chat_application"}}');var i=n(74848),r=n(28453);const o={id:"USoft_Default_Web_Socket_Provider"},c="USoft Default Web Socket Provider",d={},l=[{value:"broadcast( String message )",id:"broadcast-string-message-",level:2},{value:"send( String message )",id:"send-string-message-",level:2},{value:"Error handling",id:"error-handling",level:2}];function a(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"usoft-default-web-socket-provider",children:"USoft Default Web Socket Provider"})}),"\n",(0,i.jsxs)(t.p,{children:["The USoft Default Web Socket Provider allows you to implement a WebSocket serviceand gives you access to utility functions for connecting to the Rules Engine. It also provide access to ",(0,i.jsx)(t.em,{children:"broadcast"})," and ",(0,i.jsx)(t.em,{children:"send"})," functions."]}),"\n",(0,i.jsx)(t.h2,{id:"broadcast-string-message-",children:"broadcast( String message )"}),"\n",(0,i.jsx)(t.p,{children:"This function may be called from code in the Implementation field of methods to distribute messages to all connected clients."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Syntax"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"public void broadcast( String message ) \n\n"})}),"\n",(0,i.jsxs)(t.p,{children:["The required ",(0,i.jsx)(t.strong,{children:"message"})," is the message to be distributed."]}),"\n",(0,i.jsx)(t.h2,{id:"send-string-message-",children:"send( String message )"}),"\n",(0,i.jsx)(t.p,{children:"This function may be called from code in the Implementation field of methods to send back a message exclusively to the web socket client who made the current request."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.em,{children:"Syntax"})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"public void send( String message ) \n\n"})}),"\n",(0,i.jsxs)(t.p,{children:["The required ",(0,i.jsx)(t.strong,{children:"message"})," is the message to be sent back to the web socket client who made the current request."]}),"\n",(0,i.jsx)(t.p,{children:'The "USoft Default Web Socket Provider" functional type takes care of the websocket handshake and gives you the possibility to write your own implementation against the following event methods:'}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:(0,i.jsx)(t.strong,{children:"Event method"})}),(0,i.jsx)(t.th,{children:(0,i.jsx)(t.strong,{children:"Explanation"})}),(0,i.jsx)(t.th,{children:(0,i.jsx)(t.strong,{children:"Purpose"})})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"onConnect"}),(0,i.jsx)(t.td,{children:"The code in this method will run when the socket connection is open."}),(0,i.jsx)(t.td,{children:"Initialise variables used in the implementation"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"onClose"}),(0,i.jsx)(t.td,{children:"The code in this method will run when the socket connection is closed."}),(0,i.jsx)(t.td,{children:"Unload variables used in the implementation"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"onMessage"}),(0,i.jsx)(t.td,{children:"The code in this method will run when a message is received by the server."}),(0,i.jsx)(t.td,{children:"Add your custom implementation"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"onError *"}),(0,i.jsx)(t.td,{children:'The code in this method will run when an unexpected exception is raised while processing a web socket message. See the "Error handling" section below.'}),(0,i.jsx)(t.td,{children:"Add custom error handling"})]})]})]}),"\n",(0,i.jsx)(t.h2,{id:"error-handling",children:"Error handling"}),"\n",(0,i.jsxs)(t.p,{children:["Remove the ",(0,i.jsx)(t.strong,{children:"onError"})," method from the methods list if you want to fall back on USoft Service Framework's default implementation of error handling. In this default implementation:"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"The socket connection is kept open on error;"}),"\n",(0,i.jsx)(t.li,{children:"The error message is logged to the log file."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"If you created a new web socket service via Services, New WebSocket Service in the main menu, the default implementation of error handling is that:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"The socket connection is kept open on error;"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"The error message is logged to the log file;"}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"A message is sent back to the client that originated the request."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>c});var s=n(96540);const i={},r=s.createContext(i);function o(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);