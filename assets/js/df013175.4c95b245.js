"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[96276],{28453:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>l});var t=n(96540);const r={},i=t.createContext(r);function a(e){const s=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),t.createElement(i.Provider,{value:s},e.children)}},93803:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>l,default:()=>m,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Repositories/USoft_XML_formats/XML_error_messages","title":"XML error messages","description":"USoft XML error messages look like this:","source":"@site/docs/Repositories/USoft_XML_formats/XML_error_messages.md","sourceDirName":"Repositories/USoft_XML_formats","slug":"/Repositories/USoft_XML_formats/XML_error_messages","permalink":"/udocs/Repositories/USoft_XML_formats/XML_error_messages","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"XML_error_messages"},"sidebar":"sidebar","previous":{"title":"Meta-Rows-Fields document format","permalink":"/udocs/Repositories/USoft_XML_formats/MetaRowsFields_document_format"},"next":{"title":"USoft JSON format","permalink":"/udocs/Repositories/USoft_JSON_format"}}');var r=n(74848),i=n(28453);const a={id:"XML_error_messages"},l="XML error messages",o={},c=[{value:"Attributes",id:"attributes",level:2},{value:"Parameters",id:"parameters",level:2},{value:"Violations",id:"violations",level:2},{value:"Context",id:"context",level:2},{value:"Record",id:"record",level:2},{value:"Constraints, attributes",id:"constraints-attributes",level:2},{value:"RDBMS messages",id:"rdbms-messages",level:2}];function d(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"xml-error-messages",children:"XML error messages"})}),"\n",(0,r.jsx)(s.p,{children:"USoft XML error messages look like this:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:'<uslng:messages xmlns:uslng="..." app-interface="..." version="1.0">\n    <uslng:message msg-code="..." msg-category="..." msg-type="..." system-msg="..." language="...">\n    </uslng:message>\n</uslng:messages>\n'})}),"\n",(0,r.jsx)(s.p,{children:"USoft XML error messages may have a nested structure. In the following example, a constraint raised a violation (in the <violation> element) and this message structure is embedded in a parent structure that tells you that the constraint was fired in the context of a batch SQL task:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:'<uslng:messages app-interface="batch" ... >\n<uslng:message msg-code="424" ... >\n    Failed to execute SQL statement in SQL task "\n    <uslng:param name="Task">DC-DOM_UPD_MSG-AND-RESTR</uslng:param>\n". Statement:\n <uslng:param name="Statement">insert into LNG_T1(pk, col1) values(4,6)</uslng:param>\n    Report:\n    <uslng:param name="Report">\n    <uslng:messages ...\n        <uslng:message ...\n        <uslng:context>\n            <uslng:execution-stack> ... </uslng:execution-stack>\n            <uslng:record> ... </uslng:record>\n        </uslng:context>\n        <uslng:violation>\n            <uslng:message -common attributes-\n                \x3c!-- constraint message --\x3e\n            </uslng:message\n        </uslng:violation>\n        </uslng:message>\n    </uslng:param>\n    </uslng:message>\n</uslng:messages>\n'})}),"\n",(0,r.jsx)(s.h2,{id:"attributes",children:"Attributes"}),"\n",(0,r.jsx)(s.p,{children:"USoft XML error messages contain the following attributes:"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Attribute"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Mandatory?"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Type"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Values"})})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"app-interface"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)("p",{children:"One of the following:"}),(0,r.jsx)("p",{children:"sql-script, odbc, client-server, batch, http, creapp, usd-core"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"version"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"Number"}),(0,r.jsx)(s.td,{children:"The current USoft XML Messages version."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"msg-code"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"Mixed"}),(0,r.jsx)(s.td,{children:"The message code as defined in system messages. Value is 'no code' for constraint messages."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"msg-category"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{children:"The message category as defined in system mesages. Value is 'built-in' for constraint messages."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"msg-type"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)("p",{children:"One of the following:"}),(0,r.jsx)("p",{children:"Error, Warning, Information"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"system-msg"}),(0,r.jsx)(s.td,{children:"No"}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{children:"Value is 'yes' when the corresponding message category is a system category, ie., has the System checkbox selected."})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"language"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{children:"The current language. Value is 'default' when no language is specified."})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"parameters",children:"Parameters"}),"\n",(0,r.jsx)(s.p,{children:"System messages may or may not have parameters. Parameters show up in <param> elements, for example:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:'<uslng:messages ..common-attributes..>\n    <uslng:message ..common attributes..>\n        <uslg:param name=".."> ... </uslng:param>\n    </uslng:message>\n</uslng:messages>\n'})}),"\n",(0,r.jsx)(s.h2,{id:"violations",children:"Violations"}),"\n",(0,r.jsx)(s.p,{children:"Rule violation messages are raised by constraints (both at table and domain level) and also by attribute settings for table, column, domain, relationship and subtype objects."}),"\n",(0,r.jsx)(s.p,{children:"Rule violation messages have this general structure:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:'<uslng:messages ... - >\n  <uslng:message ... source="..." >\n    <uslng:context> ... </uslng:context>\n    <uslng:violation>\n        <uslng:message ...\n         \x3c!-- constraint message --\x3e\n        </uslng:message>\n    </uslng:violation>\n  </uslng:message>\n</uslng:messages>\n'})}),"\n",(0,r.jsx)(s.p,{children:"\xa0Messages for productive rules have <correction> instead of <violation>:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:'<uslng:messages ... - >\n  <uslng:message ... source="..." >\n    <uslng:context> ... </uslng:context>\n    <uslng:correction>\n        <uslng:message ...\n         \x3c!-- constraint message --\x3e\n        </uslng:message>\n    </uslng:correction>\n  </uslng:message>\n</uslng:messages>\n'})}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.strong,{children:"source"})," attribute has value \u2018constraint\u2019\xa0 if the message was raised by a constraint, and \u2018rdbms\u2019 otherwise."]}),"\n",(0,r.jsx)(s.h2,{id:"context",children:"Context"}),"\n",(0,r.jsx)(s.p,{children:"Rule violation messages and RDBMS messages can contain context information about statement execution and records at the time of the error. This context information is in a <context> child element of the <message> element and looks like this:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:'<uslng:context app-interface="(same as in uslng:messages element)">\n    <uslng:execution-stack>\n        <uslng:execution-element section=".." type=".." name=".."/>\n        <uslng:execution-element section=".." type=".." name=".."/>\n    </uslng:execution-stack>\n    <uslng:record> ... </uslng:record>\n</uslng:context>\n'})}),"\n",(0,r.jsx)(s.p,{children:"The execution-stack element contains the stack of in-progress execution elements at the time of the error. Elements on the stack are limited to RDMI calls, batch jobs and tasks, and decisions."}),"\n",(0,r.jsx)(s.p,{children:"The table below gives details on attributes."}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Attribute"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Mandatory?"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Type"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Values"})})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"section"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)("p",{children:"One of the following:"}),(0,r.jsx)("p",{children:"batch, engine, rdmi"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"type"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsxs)(s.td,{children:[(0,r.jsx)("p",{children:"One of the following:"}),(0,r.jsx)("p",{children:"action-task, decision, export-task, import-task, job, job-task, rdmi-call, sql-task"})]})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"name"}),(0,r.jsx)(s.td,{children:"Yes"}),(0,r.jsx)(s.td,{children:"String"}),(0,r.jsx)(s.td,{children:"Name of the execution element"})]})]})]}),"\n",(0,r.jsx)(s.h2,{id:"record",children:"Record"}),"\n",(0,r.jsxs)(s.p,{children:['Record information at the time of the error is contained in the "uslng',":record",'" element:']}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:'<uslng:record>\n    <uslng:painted-window-name>...</uslng:painted-window-name>\n    <uslng:defined-window-name>...</uslng:defined-window-name>\n    <uslng:table-name>...</uslng:table-name>\n    <uslng:primary-key>\n        <*table-name* prompt="...">\n            <*column-name* prompt=".." value="..."/>\n        </table_name>\n    </uslng:primary-key>\n</uslng:record>\n'})}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsx)(s.p,{children:"Record information is not available in the following cases:\nIn these cases, the elements hold the values 'unknown window' (painted and defined windows), 'unknown table' (table names) and 'unknown pk' (primary-keys)."})}),"\n",(0,r.jsx)(s.h2,{id:"constraints-attributes",children:"Constraints, attributes"}),"\n",(0,r.jsx)(s.p,{children:"The various rule violation messages can contain specific elements that you can refer to in XSL transformations. Specific attributes for all constraints include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@source is "constraint"']}),"\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@msg-code="no code" in the outer message element.']}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Specific attributes for restrictive constraints include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["uslng",":violation"," element instead of uslng",":correction"," element."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Specific attributes for productive constraints include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["uslng",":correction"," element instead of uslng",":violation"," element."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Specific attributes for table constraints and domain constraints include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@constraint-type="table-constraint" in the outer message element.']}),"\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@msg-category="built-in" in the outer message element.']}),"\n",(0,r.jsxs)(s.li,{children:["The inner uslng",":message"," element (within the uslng",":violation",") is not wrapped a USoft system message: it has therefore no msg-category attribute."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Specific attributes for domain constraints include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@constraint-type="domain-constraint"']}),"\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@msg-category="built-in" in the outer message element.']}),"\n",(0,r.jsxs)(s.li,{children:["The inner uslng",":message"," element (within the uslng",":violation",") is wrapped in a USoft system message with code 60200."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Specific attributes for other (built-in) rule violation messages include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@constraint-type="relation | domain-check | column-check | subtype".']}),"\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@msg-category="built-in".']}),"\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@constraint-name="built-in".']}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"rdbms-messages",children:"RDBMS messages"}),"\n",(0,r.jsxs)(s.p,{children:["RDBMS messages are always wrapped within an uslng",":param"," element in USoft system message 931. The ",(0,r.jsx)(s.strong,{children:"source"})," attribute is set to \u2018rdbms\u2019."]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-xml",children:'<uslng:messages ... ->\n<uslng:message msg-code="931" ... source="rdbms">\n    <uslng:context> ... </uslng:context>\n    RDBMS Error:\n    <uslng:param name="ErrorText">\n        <rdbms-message>\n            \x3c!-- native rdbms message --\x3e\n        </rdbms-message>\n    </uslng:param>\n    Contact your system administrator.\n</uslng:message>\n</uslng:messages>\n'})}),"\n",(0,r.jsx)(s.p,{children:"Specific attributes for RDBMS messages include:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["uslng",":message",'@source="rdbms"']}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["This message is wrapped in the rdbms-message element rather than in <uslng",":violation","> or <uslng",":correction",">."]})]})}function m(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);