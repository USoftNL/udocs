"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[35490],{16488:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>a,default:()=>l,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Authorisation_and_access/Introducing_USoft_authorisation/How_to_change_the_Rules_Engine_cache_refresh_frequency_for_authorisation","title":"How to change the Rules Engine cache refresh frequency for authorisation","description":"USoft 10{.vs_10}","source":"@site/docs/Authorisation_and_access/Introducing_USoft_authorisation/How_to_change_the_Rules_Engine_cache_refresh_frequency_for_authorisation.md","sourceDirName":"Authorisation_and_access/Introducing_USoft_authorisation","slug":"/Authorisation_and_access/Introducing_USoft_authorisation/How_to_change_the_Rules_Engine_cache_refresh_frequency_for_authorisation","permalink":"/udocs/Authorisation_and_access/Introducing_USoft_authorisation/How_to_change_the_Rules_Engine_cache_refresh_frequency_for_authorisation","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"USoft10","permalink":"/udocs/tags/u-soft-10"}],"version":"current","frontMatter":{"id":"How_to_change_the_Rules_Engine_cache_refresh_frequency_for_authorisation","tags":["USoft10"]},"sidebar":"sidebar","previous":{"title":"Merged roles","permalink":"/udocs/Authorisation_and_access/Introducing_USoft_authorisation/Merged_roles"},"next":{"title":"Roles","permalink":"/udocs/Authorisation_and_access/Roles"}}');var o=t(74848),r=t(28453);const s={id:"How_to_change_the_Rules_Engine_cache_refresh_frequency_for_authorisation",tags:["USoft10"]},a="How to change the Rules Engine cache refresh frequency for authorisation",h={},c=[{value:"Determining how often the Rules Engine refreshes authorisation data",id:"determining-how-often-the-rules-engine-refreshes-authorisation-data",level:2},{value:"Determining how often the Page Engine refreshes authorisation data",id:"determining-how-often-the-page-engine-refreshes-authorisation-data",level:2}];function u(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"how-to-change-the-rules-engine-cache-refresh-frequency-for-authorisation",children:"How to change the Rules Engine cache refresh frequency for authorisation"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.code,{children:"USoft 10``{.vs_10}"})}),"\n",(0,o.jsx)(n.admonition,{type:"warning",children:(0,o.jsx)(n.p,{children:"This article is only for USoft 10. In USoft 11, cache refresh is fully automated and cannot be set."})}),"\n",(0,o.jsx)(n.p,{children:"If the persons logging on to your web application switch roles or users, or if your role content changes frequently, you don't want the Rules Engine and the Page Engine caching authorisation data because this prevents the data refresh you are looking for."}),"\n",(0,o.jsx)(n.p,{children:"Additionally, any time you are debugging or testing the effect of authorisation settings that you are developing or changing, you want to prevent caching because otherwise you are unsure whether you are looking at a cached result or a refreshed result."}),"\n",(0,o.jsx)(n.p,{children:"This article helps you prevent or minimise caching. Because Rules Engine and Page Engine form 1 stack running your USoft web application, you need to address the cache refresh frequency of both."}),"\n",(0,o.jsx)(n.h2,{id:"determining-how-often-the-rules-engine-refreshes-authorisation-data",children:"Determining how often the Rules Engine refreshes authorisation data"}),"\n",(0,o.jsx)(n.p,{children:"The Rules Engine cacheRefreshPeriod setting determines the frequency with which the Rules Engine refreshes its authorisation data. This period is 3 minutes by default."}),"\n",(0,o.jsx)(n.p,{children:"USoft advises to set this resource to 0 or -1:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"*cacheRefreshPeriod:0\n\n"})}),"\n",(0,o.jsxs)(n.p,{children:["This ensures that the Rules Engine will refresh its data on each logon and each call to RulesEngine.SetUSer().\xa0 Add this line, or edit the setting if the line already exists, in the ",(0,o.jsx)(n.strong,{children:"USDI file"})," (for USoft Batch, Rules Service, or Remote Rules Service API) or in the ",(0,o.jsx)(n.strong,{children:"USDIW file"})," (for client-server). These files can be found in the \\APP directory of your USoft installation."]}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsx)(n.p,{children:"Theoretically there is a performance penalty: making less frequent calls will yield better performance. In practice, this is negligeable. In fact, we find most teams apply this 0 setting in all environments."})}),"\n",(0,o.jsx)(n.h2,{id:"determining-how-often-the-page-engine-refreshes-authorisation-data",children:"Determining how often the Page Engine refreshes authorisation data"}),"\n",(0,o.jsx)(n.p,{children:"If you run your USoft web application with a Page Engine defined in USoft Service Definer (now the norm), as opposed to a COM+ component in combination with IIS (now obsolete), then the cache refresh period of this Page Engine is determined by the setting of the Cache Refresh Period attribute of your Web Designer Publication Configuration. The default is 3 minutes. When you publish, Web Designer writes this setting to the \\_internal\\uspublication.xml file."}),"\n",(0,o.jsx)(n.p,{children:"If you want to minimise caching, set the Cache Refresh Period for your Publication Configuration to 0. This results in the following element in \u201cuspublication.xml\u201d:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-xml",children:'<CACHE_REFRESH PERIOD="0"/>\n'})}),"\n",(0,o.jsx)(n.p,{children:"\xa0"})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(96540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);