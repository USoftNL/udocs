"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[33437],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>o});var t=i(96540);const s={},a=t.createContext(s);function l(e){const n=t.useContext(a);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),t.createElement(a.Provider,{value:n},e.children)}},53431:(e,n,i)=>{i.d(n,{A:()=>t});const t=i.p+"assets/images/543797f4-3828-4d4b-abba-f12f7ae3e6f8-60730b203185d836bdd840ba47366443.png"},91735:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>d,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Modeller_and_Rules_Engine/Logical_Views/Logical_Views","title":"Logical Views","description":"A logical view presents data from one or more tables (called \'underlying tables\') to the user or developer. It presents those data differently than the underlying tables do themselves.","source":"@site/docs/Modeller_and_Rules_Engine/Logical_Views/Logical_Views.md","sourceDirName":"Modeller_and_Rules_Engine/Logical_Views","slug":"/Modeller_and_Rules_Engine/Logical_Views/","permalink":"/udocs/Modeller_and_Rules_Engine/Logical_Views/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Logical_Views"},"sidebar":"sidebar","previous":{"title":"Logical Views","permalink":"/udocs/Modeller_and_Rules_Engine/Logical_Views"},"next":{"title":"Limitations of Logical Views","permalink":"/udocs/Modeller_and_Rules_Engine/Logical_Views/Limitations_of_Logical_Views"}}');var s=i(74848),a=i(28453);const l={id:"Logical_Views"},o="Logical Views",r={},c=[{value:"How to define a Logical View",id:"how-to-define-a-logical-view",level:2},{value:"Checking Logical Views",id:"checking-logical-views",level:2},{value:"How to check a Logical View",id:"how-to-check-a-logical-view",level:2},{value:"Logical View attributes",id:"logical-view-attributes",level:2},{value:"How to set Logical View column attributes",id:"how-to-set-logical-view-column-attributes",level:2}];function h(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"logical-views",children:"Logical Views"})}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.strong,{children:"logical view"})," presents data from one or more tables (called 'underlying tables') to the user or developer. It presents those data differently than the underlying tables do themselves."]}),"\n",(0,s.jsx)(n.p,{children:"Logical views do not store data themselves. Rather, they present data stored in the underlying table(s)."}),"\n",(0,s.jsx)(n.p,{children:"Each logical view is defined by a SQL SELECT statement that selects data from the underlying table(s)."}),"\n",(0,s.jsx)(n.p,{children:"Logical views are used:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"To assemble related data from different tables in a single meaningful view, so that the user does not have to go to all the individual tables to obtain the data. This is shown in Example 1."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"To present data differently than they are stored. This is shown in Example 2."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"To make calculations using data from underlying tables, and present the result of these calculations in screens."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"In USoft Windows Designer and USoft Web Designer, you automatically get info windows and info web pages for each Logical View. This makes it easy to create interfaces that present the Logical View data to the user in a single window or in a single web page."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example 1"})}),"\n",(0,s.jsx)(n.p,{children:"This logical view assembles data about participants. Unlike the underlying table Participant, it contains the start date and return date of the tour that the person is participant in, as well as the family name and gender of the participant:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'select \xa0 \xa0 pt.person_id\n, \xa0 \xa0 \xa0 \xa0 \xa0p.family_name\n, \xa0 \xa0 \xa0 \xa0 \xa0p.gender\n, \xa0 \xa0 \xa0 \xa0 \xa0t.destination\n, \xa0 \xa0 \xa0 \xa0 \xa0t.tour_type\n, \xa0 \xa0 \xa0 \xa0 \xa0s.start_date\n, \xa0 \xa0 \xa0 \xa0 \xa0s.return_date\nfrom \xa0 \xa0 \xa0 participant pt\n, \xa0 \xa0 \xa0 \xa0 \xa0person p\n, \xa0 \xa0 \xa0 \xa0 \xa0reservation r\n, \xa0 \xa0 \xa0 \xa0 \xa0schedtour s\n, \xa0 \xa0 \xa0 \xa0 \xa0tour t\nrelate \xa0 \xa0 p "TAKES PART AS" pt\n, \xa0 \xa0 \xa0 \xa0 \xa0r "IS MADE FOR" pt\n, \xa0 \xa0 \xa0 \xa0 \xa0s "FOR WHICH ARE MADE" r\n, \xa0 \xa0 \xa0 \xa0 \xa0t "IS SCHEDULED AS" s\n'})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example 2"})}),"\n",(0,s.jsx)(n.p,{children:"This logical view presents e-mail salutations to persons. The underlying Person table does not store the salutations in this format:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"select \xa0 \xa0 p.person_id\n, \xa0 \xa0 \xa0 \xa0 \xa0'Dear ' ||\n \xa0 \xa0 \xa0 \xa0 \xa0 DECODE(\n \xa0 \xa0 \xa0 \xa0 \xa0 \xa0 \xa0p.gender \xa0 \xa0 \xa0 \xa0 \xa0 \n           , \xa0'M' \xa0 \xa0 \xa0 \xa0 \xa0 \n           , \xa0'Mr. ' \xa0 \xa0 \xa0 \xa0 \xa0 \n           ,  'Ms. ' \xa0 \xa0 \xa0 \xa0 \xa0 \n           ) ||\n \xa0 \xa0 \xa0 \xa0 \xa0 UPPER( SUBSTR( p.family_name, 1, 1 ) ) ||\n \xa0 \xa0 \xa0 \xa0 \xa0 LOWER( SUBSTR( p.family_name, 2 ) ||\n \xa0 \xa0 \xa0 \xa0 \xa0 ': ' \xa0 \xa0 \xa0 \xa0 \xa0 salutation\nfrom \xa0 \xa0 \xa0 person p\n"})}),"\n",(0,s.jsx)(n.h2,{id:"how-to-define-a-logical-view",children:"How to define a Logical View"}),"\n",(0,s.jsx)(n.p,{children:"To define a logical view:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Right-click on Logical Views in the project Catalog, and choose New Logical View. Alternatively, choose Define, Tables, Logical Views from the menu bar. The Logical Views window appears."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Type the SQL statement."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Press the Check button to have the SQL statement checked. For more on checking, see the next section."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If the Logical View is incorrect, a message is displayed explaining what is wrong."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If the Logical View is correct, the Correct flag is set."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.ol,{start:"4",children:["\n",(0,s.jsx)(n.li,{children:"Save your work. This step is necessary: Check does not Save by itself."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"checking-logical-views",children:"Checking Logical Views"}),"\n",(0,s.jsx)(n.p,{children:"Before you can use a Logical View, you must check it for correctness by pressing the Check button in the Logical View window or tab."}),"\n",(0,s.jsx)(n.p,{children:"Checking a Logical View results in its Correct flag being set to Yes. Checking a view is the only way to give it the Correct flag."}),"\n",(0,s.jsx)(n.p,{children:"A subsequent change may affect the Logical View, for example:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"You change the Logical View's SQL Statement."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"An underlying table is changed or dropped."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:'If such a change occurs, the Logical View is automatically reset to Correct = No. In this case, it will need to be rechecked. In the "Logical Views" node in the tree view of the Modeller and Rules Engine catalog, unchecked Logical Views are signalled by a contrasting icon.'}),"\n",(0,s.jsx)(n.p,{children:"You can get all unchecked views to be rechecked in one go by using the Tools, Check View facility in the USoft Definer menu."}),"\n",(0,s.jsx)(n.p,{children:"The VERIFY_VIEW_WHERECLAUSE Rules Engine parameter specifies whether manipulations on logical views must be checked to see if the values entered match the WHERE clause of the logical view or not."}),"\n",(0,s.jsx)(n.p,{children:"If set to 'True' (default), the values inserted or updated in a logical view are checked against the WHERE clause of the logical view. If they do not match, an error message is displayed: 'manipulation does not match WHERE clause'. In this case, you cannot enter data in the logical view that cannot be queried by this logical view. If set to 'False', this check is not performed."}),"\n",(0,s.jsx)(n.p,{children:"If the setting is not present in the Rules Engine parameters, recreate the Definer repository tables WITHOUT dropping the tables. This action will create the new parameter."}),"\n",(0,s.jsx)(n.h2,{id:"how-to-check-a-logical-view",children:"How to check a Logical View"}),"\n",(0,s.jsx)(n.p,{children:"To check a Logical View:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Get the Logical View in your screen in the Logical Views window or tab. (You can open this tab from the Define, Tables, Logical Views menu option and query the Logical View you want to check, or you can double-click it in the Logical Views node in the tree view of the Modeller and Rules Engine catalog or Teamwor catalog.)"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Press the Check button.*"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If the Logical View is correct, the Correct flag will be set to Yes and the Columns list in the bottom half of the window or tab will be (re)computed."}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:"Save. This step is necessary: Check does not Save by itself."}),"\n"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Alternatively, you can check ALL Logical Views in a single action by choosing Tools, Check Repository from the menu."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"logical-view-attributes",children:"Logical View attributes"}),"\n",(0,s.jsx)(n.p,{children:"When you check a Logical View, USoft automatically computes a list of columns for the Logical View. Each of these columns will automatically get certain attribute settings based on column attributes of the underlying table(s)."}),"\n",(0,s.jsx)(n.p,{children:"Also, the view checker makes a number of special decisions. In the example below:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The column names (in the Columns tab) are NOT always the same as in the defining SQL Statement (on the right)."}),"\n",(0,s.jsx)(n.li,{children:"The Key, Mandatory, Input Allowed and Updatable column attributes are NOT always the same as in the underlying tables."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"The view checker has made these decisions to enable you to use the view properly. It has added the prefixes DEPT_ and EMP_ to disambiguate between department names and employee names. It has also determined that it is the employee ID that serves as primary key, and that department names are not editable in this view:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:i(53431).A+"",width:"844",height:"417"})}),"\n",(0,s.jsx)(n.p,{children:"Once the list of columns for a Logical View has been computed, you can manually change column attribute settings. In particular, when you write a Logical View that has a primary key spanning multiple columns, USoft will not always guess correctly which columns are in the primary key; it is important to specify this manually by setting the Key attribute to '1' for the correct Logical View columns."}),"\n",(0,s.jsx)(n.p,{children:"When you set a Logical View column attribute, always consider if it is not preferable to make the setting at the underlying table level instead. For example, information that is Mandatory in the sense that it must always be supplied must be set to Mandatory at the table level, not in Logical Views. Conversely, it makes no sense to set a Logical View column to non-Mandatory if it is directly based on an underlying table column that is itself Mandatory, since the latter setting will cause the application to always require a value in this column, regardless of whether the user attempts to interact with the data through the Logical View or directly at table level."}),"\n",(0,s.jsx)(n.p,{children:"Columns in Logical Views have their own Default Value attribute. If you specify a default value for a Logical View column, this overrides any default value set for the corresponding column(s) in the underlying table."}),"\n",(0,s.jsx)(n.h2,{id:"how-to-set-logical-view-column-attributes",children:"How to set Logical View column attributes"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"First, make sure you have finished writing the Logical View's SQL Statement."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Check the Logical View."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"If the Logical View is correct, this will cause the Correct flag to be set to Yes and the list of Columns in the lower part of the Logical Views window or tab to be (re)computed."}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Edit the attribute settings in the Columns grid as required."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Save."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\xa0"})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);