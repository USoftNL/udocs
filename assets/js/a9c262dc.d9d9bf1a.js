"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[92641],{20213:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>i,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Web_and_app_UIs/Testing_your_web_application_with_USoft_Web_Benchmark/Test_automation_with_Web_Benchmark","title":"Test automation with Web Benchmark","description":"Normally you run your tests via the Web Benchmark control and its profiler dialog, but this isn\u2019t automated, i.e. you have to click on everything yourself. However, with a few simple scripts, you can automate most of these actions yourself. In this section we offer a simple manual on how to set up automated test execution.","source":"@site/docs/Web_and_app_UIs/Testing_your_web_application_with_USoft_Web_Benchmark/Test_automation_with_Web_Benchmark.md","sourceDirName":"Web_and_app_UIs/Testing_your_web_application_with_USoft_Web_Benchmark","slug":"/Web_and_app_UIs/Testing_your_web_application_with_USoft_Web_Benchmark/Test_automation_with_Web_Benchmark","permalink":"/udocs/Web_and_app_UIs/Testing_your_web_application_with_USoft_Web_Benchmark/Test_automation_with_Web_Benchmark","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Test_automation_with_Web_Benchmark"},"sidebar":"sidebar","previous":{"title":"Web Benchmark settings","permalink":"/udocs/Web_and_app_UIs/Testing_your_web_application_with_USoft_Web_Benchmark/Web_Benchmark_settings"},"next":{"title":"Web Benchmark recordable actions","permalink":"/udocs/Web_and_app_UIs/Web_Benchmark_recordable_actions"}}');var o=n(74848),a=n(28453);const i={id:"Test_automation_with_Web_Benchmark"},r="Test automation with Web Benchmark",l={},c=[{value:"Step 1: Set up your test repository",id:"step-1-set-up-your-test-repository",level:3},{value:"Step 2: Automatically start tests",id:"step-2-automatically-start-tests",level:3},{value:"Step 3: Analyse the results",id:"step-3-analyse-the-results",level:3}];function h(e){const t={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"test-automation-with-web-benchmark",children:"Test automation with Web Benchmark"})}),"\n",(0,o.jsx)(t.p,{children:"Normally you run your tests via the Web Benchmark control and its profiler dialog, but this isn\u2019t automated, i.e. you have to click on everything yourself. However, with a few simple scripts, you can automate most of these actions yourself. In this section we offer a simple manual on how to set up automated test execution."}),"\n",(0,o.jsx)(t.h3,{id:"step-1-set-up-your-test-repository",children:"Step 1: Set up your test repository"}),"\n",(0,o.jsxs)(t.p,{children:["It is unlikely you will always keep all your tests stored in the browser. In fact, your automated tests may likely run on a different machine instead. Therefore, it is important you export your tests (or test suites if you prefer) to XML files (using the options offered in ",(0,o.jsx)(t.strong,{children:"Manage tests:"})]}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{src:n(30398).A+"",width:"29",height:"26"})}),"\n",(0,o.jsx)(t.p,{children:"), and read them for each automated test run. You could use the \u201cInitial Definition File\u201d property of the Web Benchmark control to automatically read them if your application (and its tests) rarely changes, however, if this is not the case, you need to read them in a different manner."}),"\n",(0,o.jsx)(t.p,{children:"The easiest way to do this is as follows:"}),"\n",(0,o.jsxs)(t.p,{children:["1.\xa0Export your tests to an XML file, and make them accessible on your machine (or network) via an URL. As an example, we assume your test XML file is accessible as \u201c",(0,o.jsx)(t.a,{href:"http://localhost/tests/TestSuite.xml%E2%80%9D",children:"http://localhost/tests/TestSuite.xml\u201d"}),"."]}),"\n",(0,o.jsx)(t.p,{children:"2.\xa0On your starting page (we assume ApplicationPageWithBenchmark as a default here), add an onload eventListener in the Web Designer, and add a callClientScript action to it. Set the Script property of this action to:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'$.ajax({\n url: "http://localhost/tests/TestSuite.xml",\n type: "GET",\n async: false,\n success: function (data, status, jqXHR) {\n  $.udb.benchmark.trigger("purge");\n  $.udb.benchmark.rec.readXML(data);\n },\n error: function(jqXHR, textStatus, errorThrown) {\n  console.log(textStatus+":"+errorThrown);\n }\n});\n\n'})}),"\n",(0,o.jsx)(t.p,{children:"This will purge any existing tests in the repository, and replace it with the contents of your exported file."}),"\n",(0,o.jsx)(t.h3,{id:"step-2-automatically-start-tests",children:"Step 2: Automatically start tests"}),"\n",(0,o.jsx)(t.p,{children:"This step causes tests to start automatically when the application is opened."}),"\n",(0,o.jsx)(t.p,{children:"To the onload eventListener of Step 1, add another callClientScript action with the following code:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'var tests = $.udb.benchmark.getTests();\nif (tests.length) {\n$.udb.benchmark.trigger("play", {\ntimes: 1, \nperfMode: true, \nbatchSet: tests\n});\n $.udb.benchmark.on("finishcomplete.test", function() { \n  $.udb.benchmark.trigger("perf.view");\n});\n}\n\n'})}),"\n",(0,o.jsx)(t.p,{children:"This will gather all currently loaded tests into an array list, and feed them to the playback engine of the Web Benchmark control, to execute all of them. After execution, it will display the \u201cProfile overview\u201d dialog with the results."}),"\n",(0,o.jsx)(t.p,{children:"However, if you want to (automatically) export the results to an XML file instead, you may want to change the script in the \u201cfinishcomplete.test\u201d call to:"}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{children:'$.udb.benchmark.trigger("export", {mode: "runs"});\n\n'})}),"\n",(0,o.jsx)(t.h3,{id:"step-3-analyse-the-results",children:"Step 3: Analyse the results"}),"\n",(0,o.jsx)(t.p,{children:"You will find the XML file with your test results in your browser\u2019s downloads folder if you used the \u201cexport\u201d event trigger from the previous step."}),"\n",(0,o.jsx)(t.p,{children:"The results are ordered in one XML element per test, where its main element contains all important information in its attributes (success, execution time, error message, and of course the test time)."})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>r});var s=n(96540);const o={},a=s.createContext(o);function i(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(a.Provider,{value:t},e.children)}},30398:(e,t,n)=>{n.d(t,{A:()=>s});const s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB0AAAAaCAMAAAB8SKeFAAAAvVBMVEXo6OjMzMzu7v/n4+jIx82wws2pvsawwtnP4fTnz7prkogAiIgWi5eDxOy5pIgAlbrY7v/IrI8Wncbf7v/n4ezYx7qKnps+jowWiIgfjY9Nm6eSvuDf4PDn7v8fkp9zsMGwwtHI2/Df4fDf4eiptLJrlowWlbrYuJsfiIg+p9XYz9nf4+TAvrqKp6trmI8+kI8+k59zp6uSuNHI3vTYzuA1kJtrp6uDrLqpws2hsKuDp6dkk48miojn0r6DxvDilH7yAAAAgUlEQVQoz2NgwA8YcQMiZJmwA/rJMrOwsrGyc2CV5eTihgAeXiyyfNwwwC+AKSsIlxUSxpQVERUTl+DmlpSSlpHFYrKcvIKikjKLiqqaAKn2qmvAZDWxmKylraOrp29gaGRsIozNZFMzcwtLK2sbfpLttYWHlR3J4UyD+CU/TeIDAIfODoGDyxXWAAAAAElFTkSuQmCC"}}]);