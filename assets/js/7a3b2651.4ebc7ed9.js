"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[53006],{28453:(e,n,o)=>{o.d(n,{R:()=>r,x:()=>a});var t=o(96540);const i={},s=t.createContext(i);function r(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(s.Provider,{value:n},e.children)}},35371:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Repositories/Introducing_repositories/Globally_Unique_Keys_G_U_Ks","title":"Globally Unique Keys (G_U_Ks)","description":"USoft 11{.vs_11}","source":"@site/docs/Repositories/Introducing_repositories/Globally_Unique_Keys_G_U_Ks.md","sourceDirName":"Repositories/Introducing_repositories","slug":"/Repositories/Introducing_repositories/Globally_Unique_Keys_G_U_Ks","permalink":"/udocs/Repositories/Introducing_repositories/Globally_Unique_Keys_G_U_Ks","draft":false,"unlisted":false,"tags":[{"inline":true,"label":"USoft11","permalink":"/udocs/tags/u-soft-11"}],"version":"current","frontMatter":{"id":"Globally_Unique_Keys_G_U_Ks","tags":["USoft11"]},"sidebar":"sidebar","previous":{"title":"Repository management wizards","permalink":"/udocs/Repositories/Introducing_repositories/Repository_management_wizards"},"next":{"title":"Version control","permalink":"/udocs/Repositories/Version_control"}}');var i=o(74848),s=o(28453);const r={id:"Globally_Unique_Keys_G_U_Ks",tags:["USoft11"]},a="Globally Unique Keys (G_U_Ks)",l={},c=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"globally-unique-keys-g_u_ks",children:"Globally Unique Keys (G_U_Ks)"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"USoft 11``{.vs_11}"})}),"\n",(0,i.jsx)(n.p,{children:"USoft stores Globally Unique Keys (G_U_Ks) in non-displayed columns in USoft applications such as USoft Definer."}),"\n",(0,i.jsx)(n.p,{children:"G_U_Ks are random generated sequences of alphanumeric characters. They surface in G_U_K columns when you export to XML or JSON, for example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-xml",children:'<Tables>\n  <T_TABLE TABLE_NAME="T1" ... G_U_K="7CBBA3A755064385B8018E2E428DE0A9"/>\n  <T_TABLE TABLE_NAME="T2" ... G_U_K="CB2F4784303A4F5693FD2FB109496316"/>\n</Tables>\n'})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["USoft has introduced G_U_Ks as a necessary element of ",(0,i.jsx)(n.a,{href:"/udocs/Repositories/Version_control/Versioncontrolled_repositories",children:"USoft version control"}),". As a developer, you do not need to know about the connection between the two."]})}),"\n",(0,i.jsx)(n.p,{children:"You can occasionally take advantage of G_U_Ks when you export and import data describing your own applications because G_U_Ks allow you to identify a record by a different means than the record's primary key value(s). This can be helpful when you update a primary key value in one environment and you want to repeat that update in a different environment. Why is this?"}),"\n",(0,i.jsx)(n.p,{children:'To see how this works, first consider how USoft imports data from XML or JSON by default. By default, imports are run with the IgnoreGUK parameter set to Yes. With this default setting, the import principle is the same as when the export file does not contain G_U_Ks at all. The import routine performs "UPSERT\u201d, a combination of INSERT and UPDATE:'}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If a record with the same primary key value(s) is NOT found, the entire record is imported as described in the external file (INSERT)."}),"\n",(0,i.jsx)(n.li,{children:"If a record with the same primary key value(s) IS found, the non-primary-key values of that record are set to the values found in the external file (UPDATE)."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:'This principle has its limitations when primary key values change. With "UPSERT\u201d, the import routine has no way of knowing the old value of the primary key. Therefore it cannot update the primary key value in the target. It will insert a new record instead, and any child records lose their relationship to the new parent.'}),"\n",(0,i.jsxs)(n.p,{children:["You can get around this problem by supplying a G_U_K column of your own and setting ",(0,i.jsx)(n.strong,{children:"IgnoreGUK=no"})," for your import. In this situation, import routines will automatically use the G_U_K, and not the primary key values, to identify the record. If the record is found, all the columns including the primary keys will be updated."]}),"\n",(0,i.jsx)(n.p,{children:"To add a G_U_K column to a table of your own:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Add a column by the name G_U_K."}),"\n",(0,i.jsx)(n.li,{children:"Base this column on the GUID template domain, or a variant thereof."}),"\n",(0,i.jsx)(n.li,{children:"Make sure this column has Key = 9."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["To set ",(0,i.jsx)(n.strong,{children:"IgnoreGUK=no"})," for your import, use this syntax:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"INVOKE    XML.Import WITH\nSELECT    'no'  IgnoreGUK\n,         ...   XMLDocument\nFROM      ...\n"})}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"Semantically, a G_U_K is a key that makes a record globally unique independently of the locations where it may be stored. This is suitable in the context of version control. This is not suitable when you use import to make a one-time copy of an object with the intention of changing it into something completely different.\nFor this reason, in its own operations, USoft heeds G_U_Ks in Version Control, but not in Object Shopping."})}),"\n",(0,i.jsx)(n.p,{children:"\xa0"})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);