"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[93761],{28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var s=n(96540);const r={},i=s.createContext(r);function a(e){const t=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(i.Provider,{value:t},e.children)}},90205:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Repositories/USoft_XML_formats/DML_instruction_tags","title":"DML instruction tags","description":"In a table section, table elements represent database records. A table element is allowed to have an optional DML instruction tag. This is an explicit instruction to XML.Import about what to do with the record on import (See \\"Meaning of DML instruction tags\\" later in this article). DML (Data Manipulation Language) is an abbreviation from the SQL specification.","source":"@site/docs/Repositories/USoft_XML_formats/DML_instruction_tags.md","sourceDirName":"Repositories/USoft_XML_formats","slug":"/Repositories/USoft_XML_formats/DML_instruction_tags","permalink":"/udocs/Repositories/USoft_XML_formats/DML_instruction_tags","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"DML_instruction_tags"},"sidebar":"sidebar","previous":{"title":"XML table section syntax","permalink":"/udocs/Repositories/USoft_XML_formats/XML_table_section_syntax"},"next":{"title":"XML single-table document format","permalink":"/udocs/Repositories/USoft_XML_formats/XML_singletable_document_format"}}');var r=n(74848),i=n(28453);const a={id:"DML_instruction_tags"},o="DML instruction tags",c={},d=[{value:"Meaning of DML instruction tags",id:"meaning-of-dml-instruction-tags",level:2}];function l(e){const t={code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"dml-instruction-tags",children:"DML instruction tags"})}),"\n",(0,r.jsx)(t.p,{children:'In a table section, table elements represent database records. A table element is allowed to have an optional DML instruction tag. This is an explicit instruction to XML.Import about what to do with the record on import (See "Meaning of DML instruction tags" later in this article). DML (Data Manipulation Language) is an abbreviation from the SQL specification.'}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"Syntax"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{children:'{  <Insert/>\n\n|  <Update column="new-value" column="new-value" ... />\n\n|  <Delete/>  }\n'})}),"\n",(0,r.jsx)(t.p,{children:'The element name must be "Insert", "Update", or "Delete". In the case of "Insert" and "Delete", the element must be empty.'}),"\n",(0,r.jsx)(t.p,{children:'To import an XML document with DML instruction tags, you must specify relationship-behaviour="as-reference" in the usoft-xml processing instruction. Otherwise, it\'s an error.'}),"\n",(0,r.jsx)(t.p,{children:'In the case of "Update":'}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"The Update element must have one or more attributes in which the attribute name identifies a changed column, and the attribute value the new column value."}),"\n",(0,r.jsx)(t.li,{children:"The parent element may optionally contain attributes for non-primary-key values. This way, the document is able to contain the old values of the changed columns."}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"Example INSERT"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-xml",children:'<Accredited_Persons documentName="Accredited Persons">\n    <PERSON ID="177" FAMILY_NAME="Haynes" FIRST_NAME="Deborah">\n      <Insert/>\n    </PERSON>\n</Accredited_Persons>\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"Example UPDATE"})}),"\n",(0,r.jsx)(t.p,{children:"The ID attribute of the PERSON element is required. It identifies the record to be updated by its primary key."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-xml",children:'<Accredited_Persons documentName="Accredited Persons">\n    <PERSON ID="177">\n      <Update FIRST_NAME="Deborah"/>\n    </PERSON>\n</Accredited_Persons>\n'})}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.em,{children:"Example DELETE"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-xml",children:'<Accredited_Persons documentName="Accredited Persons">\n    <PERSON ID="177" FAMILY_NAME="Haynes" FIRST_NAME="Deborah">\n      <Delete/>\n    </PERSON>\n</Accredited_Persons>\n'})}),"\n",(0,r.jsx)(t.h2,{id:"meaning-of-dml-instruction-tags",children:"Meaning of DML instruction tags"}),"\n",(0,r.jsx)(t.p,{children:"A USoft XML document is allowed to contain a mixture of elements with DML instruction tags and other elements without. On import, each element is considered separately. The sections below describe what happens in each case."}),"\n",(0,r.jsx)(t.p,{children:'"Primary key" in each case is the primary key described by one or more column values in the parent element. The parent element has the same name as the database table.'}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"Element has ..."})}),(0,r.jsx)(t.th,{children:(0,r.jsx)(t.strong,{children:"This means ..."})})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:"No DML instruction tag"}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)("p",{children:"If no record exists with the primary key, the record must be inserted."}),(0,r.jsx)("p",{children:"If a record already exists with the primary key, the record must be updated."})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"<Insert/>"})}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)("p",{children:"The record must be inserted."}),(0,r.jsx)("p",{children:"If a record already exists with the primary key, it's an error."})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"<Update/>"})}),(0,r.jsxs)(t.td,{children:[(0,r.jsxs)("p",{children:["One or more values in the record must be updated. The columns and values to be updated are specified as attributes of the ",(0,r.jsx)(t.code,{children:"<Update/>"})," element."]}),(0,r.jsx)("p",{children:"If no record exists with the primary key, it's an error."})]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"<Delete/>"})}),(0,r.jsxs)(t.td,{children:[(0,r.jsx)("p",{children:"The record must be deleted."}),(0,r.jsx)("p",{children:"If no record exists with the primary key, it's an error."})]})]})]})]}),"\n",(0,r.jsx)(t.p,{children:"\xa0"})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}}}]);