"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[66610],{28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>i});var t=n(96540);const a={},o=t.createContext(a);function r(e){const s=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),t.createElement(o.Provider,{value:s},e.children)}},71242:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"Task_flow/Tasks/Messages_in_SQL_tasks_and_Import_tasks","title":"Messages in SQL tasks and Import tasks","description":"Within SQL tasks and import tasks, you can call the MessageLanguage method of the internal RulesEngine component from an INVOKE statement.","source":"@site/docs/Task_flow/Tasks/Messages_in_SQL_tasks_and_Import_tasks.md","sourceDirName":"Task_flow/Tasks","slug":"/Task_flow/Tasks/Messages_in_SQL_tasks_and_Import_tasks","permalink":"/udocs/Task_flow/Tasks/Messages_in_SQL_tasks_and_Import_tasks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Messages_in_SQL_tasks_and_Import_tasks"},"sidebar":"sidebar","previous":{"title":"Job tasks","permalink":"/udocs/Task_flow/Tasks/Job_tasks"},"next":{"title":"Delayed processing of tasks","permalink":"/udocs/Task_flow/Tasks/Delayed_processing_of_tasks"}}');var a=n(74848),o=n(28453);const r={id:"Messages_in_SQL_tasks_and_Import_tasks"},i="Messages in SQL tasks and Import tasks",l={},d=[];function c(e){const s={admonition:"admonition",code:"code",em:"em",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"messages-in-sql-tasks-and-import-tasks",children:"Messages in SQL tasks and Import tasks"})}),"\n",(0,a.jsx)(s.p,{children:"Within SQL tasks and import tasks, you can call the MessageLanguage method of the internal RulesEngine component from an INVOKE statement."}),"\n",(0,a.jsx)(s.p,{children:"If the message type is set to ERROR, and the Abort Mode setting for a task is set to Abort Task on Error, or Abort Job on Error, the task or job stops, and the message is added to the log file. This way, you can add restrictive rules that are specific for one batch job, and that you cannot or do not want to specify in a restrictive constraint. Examples are:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"Check the values of the supplied job input parameters."}),"\n",(0,a.jsx)(s.li,{children:"Check the records in an external set."}),"\n",(0,a.jsx)(s.li,{children:"Check imported records or values."}),"\n"]}),"\n",(0,a.jsx)(s.p,{children:"If the message type is set to INFORMATION or WARNING, the message is displayed or added to the log file, and the batch job continues."}),"\n",(0,a.jsx)(s.admonition,{type:"note",children:(0,a.jsx)(s.p,{children:"To use the messageLanguage method in Batch, you need to create a system messages (.SMG) file first:"})}),"\n",(0,a.jsx)(s.p,{children:"From the Definer menu, choose Tools, Language, Create System Messages File to generate a flat file for your system messages. This file must have name:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"application-name.SMG\n\n"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.em,{children:"Example"})}),"\n",(0,a.jsx)(s.p,{children:"Check the values of the job input parameters supplied by a runtime user."}),"\n",(0,a.jsx)(s.p,{children:"Suppose, a COUNTRY job input parameter must have value 'NL', 'UK', or 'US'. These values are not stored in an application table. If the supplied job input parameter has another value, you want to provide an error message."}),"\n",(0,a.jsxs)(s.ol,{children:["\n",(0,a.jsx)(s.li,{children:"In the Definer, define a new message categorie, and do not select the System check box:"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"Category: Batch Error\n\n"})}),"\n",(0,a.jsxs)(s.ol,{start:"2",children:["\n",(0,a.jsx)(s.li,{children:"In the Definer, define a new system message:"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"Code: \xa0 \xa0 \xa0 \xa01\nCategory: \xa0 \xa0Batch Error\nName: \xa0 \xa0 \xa0 \xa0WRONG_COUNTRY_PARAMETER\nMessage: \xa0 \xa0 <Country_par> is not an allowed value. Allowed values are 'NL','UK', and 'US'.\nParameter: \xa0 Country_par\nSeqno: \xa0 \xa0 \xa0 1\n\n"})}),"\n",(0,a.jsxs)(s.ol,{start:"3",children:["\n",(0,a.jsx)(s.li,{children:"In the Batch job, add a SQL task with SQL statement:"}),"\n"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-sql",children:"INVOKE RulesEngine.MessageLanguage \nWITH\nSELECT \xa0 \xa0 'Batch Error'\n, \xa0 \xa0 \xa0 \xa0 \xa0'WRONG_COUNTRY_PARAMETER'\n, \xa0 \xa0 \xa0 \xa0 \xa0'ERROR'\n, \xa0 \xa0 \xa0 \xa0 \xa0country\nFROM \xa0 \xa0 \xa0 job-input-parameter-set\nWHERE \xa0 \xa0 \xa0country NOT IN ('NL','UK','US')\n\n"})})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}}}]);