"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[86846],{10381:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/a2259e11-d5b8-470f-ada9-6f00a0a70d29-cfa67a06e631b71fbabdeb492d4cfa41.png"},13287:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/64e5cf5e-7775-43ac-a4b0-b8df2f568258-5a4977422b784cc35386ff27bb0eeab5.png"},21743:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Services/Server_configuration/Multitenancy","title":"Multi-tenancy","description":"Multi-tenancy is an architectural pattern that enables a single instance of a software application to run on a server and serve multiple customers.","source":"@site/docs/Services/Server_configuration/Multitenancy.md","sourceDirName":"Services/Server_configuration","slug":"/Services/Server_configuration/Multitenancy","permalink":"/udocs/Services/Server_configuration/Multitenancy","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Multitenancy"},"sidebar":"sidebar","previous":{"title":"Log configuration","permalink":"/udocs/Services/Server_configuration/Log_configuration"},"next":{"title":"Security configuration","permalink":"/udocs/Services/Security_configuration"}}');var a=t(74848),s=t(28453);const r={id:"Multitenancy"},c="Multi-tenancy",o={},l=[{value:"Owner-based multi-tenancy",id:"owner-based-multi-tenancy",level:3},{value:"Table-based multi-tenancy",id:"table-based-multi-tenancy",level:3},{value:"Service-based multi-tenancy",id:"service-based-multi-tenancy",level:3}];function d(e){const n={em:"em",h1:"h1",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"multi-tenancy",children:"Multi-tenancy"})}),"\n",(0,a.jsx)(n.p,{children:"Multi-tenancy is an architectural pattern that enables a single instance of a software application to run on a server and serve multiple customers."}),"\n",(0,a.jsxs)(n.p,{children:['Multiple clients (individual end users and their devices) may access the application on behalf of a specific organisation, team or department. Each such organisation, team or department is a "customer" or ',(0,a.jsx)(n.em,{children:"tenant"})," of the application."]}),"\n",(0,a.jsx)(n.p,{children:"Multi-tenancy is especially relevant in Software-as-a-Service (SaaS) applications. It can be cost-effective because it allows software development, deployment, maintenance and infrastructure costs to be shared across customers."}),"\n",(0,a.jsx)(n.p,{children:"The deployment of multi-tenancy is relatively complex. It requires a high level of configurability and a good isolation between the tenants, with respect to security, but also with respect to performance."}),"\n",(0,a.jsx)(n.p,{children:"To build a USoft SaaS application you need multiple software components:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"A database."}),"\n",(0,a.jsx)(n.li,{children:"Business rules. They are business logic defined in USoft Definer and run in a Rules Engine accessed by a Rules Service. The Rules Service is a Windows service."}),"\n",(0,a.jsx)(n.li,{children:"Services. They are connectivity interfaces defined in Service Definer, or browser-based user interfaces designed in Web Designer, or both. Services are run in a Server defined in a runtime USoft Service Framework."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Applications built with USoft may combine multi-tenancy features on one, two, or all three of these levels in order to achieve optimal tenant isolation. The chosen architecture depends on:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"the number of tenants,"}),"\n",(0,a.jsx)(n.li,{children:"the storage needed per tenant,"}),"\n",(0,a.jsx)(n.li,{children:"the workload per tenant,"}),"\n",(0,a.jsx)(n.li,{children:"the frequency of schema changes,"}),"\n",(0,a.jsx)(n.li,{children:"the customisation level needed per tenant,"}),"\n",(0,a.jsx)(n.li,{children:"cost and budget."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Three possible architecture principles are discussed below. Ongoing monitoring of services will enable you to find the optimal tenant design for your services."}),"\n",(0,a.jsx)(n.h3,{id:"owner-based-multi-tenancy",children:"Owner-based multi-tenancy"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Owner-based multi-tenancy"})," uses a different owner of the application tables for each customer. USoft makes use of the Owner field in USoft Binder \xa0to specify the owner of the application tables:"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(13287).A+"",width:"450",height:"563"})}),"\n",(0,a.jsx)(n.p,{children:"Each customer corresponds to a different owner. This way, customer isolation is easier and the Rules Engine does not need to be aware of the multi-tenancy architecture. For details on Owners, please go to the USoft Binder Guide and look for the settings on the Database tab of the Project Properties property sheet."}),"\n",(0,a.jsx)(n.h3,{id:"table-based-multi-tenancy",children:"Table-based multi-tenancy"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Table-based multi-tenancy"})," allows data for multiple customers to access database tables owned by the same database owner. Some sort of identifier column that indicates the tenant associated with each record must be added to all tables shared between customers:"]}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(10381).A+"",width:"347",height:"586"})}),"\n",(0,a.jsx)(n.p,{children:"Make sure that each customer has access only to his own section of the data. Do this by place restricting authorisation conditions on the column that identifies the tenant. For details, see the USoft Authorizer Guide."}),"\n",(0,a.jsx)(n.h3,{id:"service-based-multi-tenancy",children:"Service-based multi-tenancy"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Service-based multi-tenancy"}),' allows you maximum flexibility by using different levels of the service architecture to make distinctions between tenants. This allows you, at database level, to use a mix of table-based and owner-based distinctions. Tenants use connections available in a USoft Service Framework instance. Connections are configurable at deploy time via the Connections element in the "config.xml" configuration file of a server in Service Framework. See also the Multiple connections and Rules Services help topic.']}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:t(55033).A+"",width:"1038",height:"595"})}),"\n",(0,a.jsx)(n.p,{children:"The current product has restrictions:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Connection-based multi-tenancy is not possible when using SAML authentication."}),"\n",(0,a.jsx)(n.li,{children:"CORS-configurations and headers in a service framework server cannot be configured per tenant."}),"\n",(0,a.jsx)(n.li,{children:"Active services in a Service Framework service cannot be configured per tenant."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Because of these restrictions, in practice, the distinctions you make for different tenants will currently be made at connection level only."})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>c});var i=t(96540);const a={},s=i.createContext(a);function r(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},55033:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/9c0d11aa-d92f-41fb-8df5-ae6cf0c3cbe1-53840ab7c6c58d92c6058aa61c3efd82.png"}}]);