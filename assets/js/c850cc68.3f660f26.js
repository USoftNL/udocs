"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[12973],{28453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var a=n(96540);const s={},r=a.createContext(s);function o(e){const t=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(r.Provider,{value:t},e.children)}},59953:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"Task_flow/Tasks/Import_tasks","title":"Import tasks","description":"Import tasks are useful if:","source":"@site/docs/Task_flow/Tasks/Import_tasks.md","sourceDirName":"Task_flow/Tasks","slug":"/Task_flow/Tasks/Import_tasks","permalink":"/udocs/Task_flow/Tasks/Import_tasks","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Import_tasks"},"sidebar":"sidebar","previous":{"title":"Export tasks: Creating external file layout","permalink":"/udocs/Task_flow/Tasks/Export_tasks_Creating_external_file_layout"},"next":{"title":"Import task status files","permalink":"/udocs/Task_flow/Tasks/Import_task_status_files"}}');var s=n(74848),r=n(28453);const o={id:"Import_tasks"},i="Import tasks",l={},d=[{value:"Import tasks, purpose",id:"import-tasks-purpose",level:3},{value:"Defining an import task",id:"defining-an-import-task",level:3},{value:"Import task, example",id:"import-task-example",level:3},{value:"Import files, location",id:"import-files-location",level:3}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"import-tasks",children:"Import tasks"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Import tasks"})," are useful if:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"you are using CSV as an external data format, or"}),"\n",(0,s.jsx)(t.li,{children:"you require a high level of performance because of large data volumes, or"}),"\n",(0,s.jsx)(t.li,{children:"you are working on legacy USoft applications that use import tasks."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["In other cases, consider using ",(0,s.jsx)(t.a,{href:"/udocs/Repositories/Data_flow_control_with_XML_or_JSON/",children:"XML/JSON import"})," instead. This gives you better control over the data in testing in and debugging."]}),"\n",(0,s.jsx)(t.h3,{id:"import-tasks-purpose",children:"Import tasks, purpose"}),"\n",(0,s.jsx)(t.p,{children:"You can use Import Tasks to:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Load backup data files"})," into a database. For example, if the Travel Agency makes regular backups of its data using an export task, the data can easily be reloaded by means of an import task, in cases of disaster recovery."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Import data"}),"  from other USoft and non-USoft applications. For example, suppose the product designers have created a new set of tours on a different system. An import task can be used to import this data into the Travel Agency database."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Convert data"})," from different systems into one unified USoft application."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"To load new data, write an INSERT statement. To change existing data, write an UPDATE statement."}),"\n",(0,s.jsx)(t.h3,{id:"defining-an-import-task",children:"Defining an import task"}),"\n",(0,s.jsx)(t.p,{children:"To define an import task:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"Choose Define, Tasks, Import Tasks."}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"The Import Tasks window appears."}),"\n",(0,s.jsxs)(t.ol,{start:"2",children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"In the Import Name field, type a unique name for the import task. The name can be up to 30 characters long."}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Click the Import SQL Statements tab page to enter information in each of the following fields."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"For each SQL statement that you want to have performed on the external data, application tables, or parameter sets:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"In the Sequence field, type a (sequence) number to indicate the order in which the SQL statements are to be executed. It is a good idea to start numbering from 10 upwards, in units of 10, so that you can insert other statements later, if required."}),"\n",(0,s.jsx)(t.li,{children:"In the Active field, check or clear the box to activate or deactivate statements that you may have used for debugging purposes."}),"\n",(0,s.jsx)(t.li,{children:'In the Disable Rules field, check or clear the box to specify whether rules (constraints, relationships, mandatory columns, allowed values, and more) need to be disabled or not when executing this Import SQL statement. This enables you to speed up performance when the data comes from a trusted source and is therefore expected not to contain any errors. Refer to "Disabling Rules" for more information.'}),"\n",(0,s.jsx)(t.li,{children:"In the Description field, type a description of the purpose or nature of the SQL statement."}),"\n",(0,s.jsx)(t.li,{children:"In the SQL Statement field, enter the SQL statement. You can click the Edit button to open the popup text editor, or click the SQL Definer button to start the Graphical SQL Definer (for more information on the Graphical SQL Definer, see the USoft Definer Help)."}),"\n"]}),"\n",(0,s.jsxs)(t.ol,{start:"4",children:["\n",(0,s.jsx)(t.li,{children:"Click the Import Task Sets tab page to enter information in each of the following fields. For each external set that is used by this import task:"}),"\n"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"In the Set Name field, click the lookup button and select a previously defined external set."}),"\n",(0,s.jsx)(t.li,{children:'In the Driving Set field, check or clear the box to indicate which of the external sets "drives" the import process. An import task must have exactly one driving set.'}),"\n",(0,s.jsx)(t.li,{children:"In the Filename field, type the name of the file that contains the data to be imported. By default, USoft Batch looks for this file in the working directory, but you can override this by entering a full pathname before the file name."}),"\n",(0,s.jsx)(t.li,{children:"In the Use User Table field, check or clear the box to specify whether or not USoft Batch should use a user-defined database table for temporary storage of the external set."}),"\n",(0,s.jsx)(t.li,{children:"In the User Table field, specify the name of the table to use to store the external set temporarily."}),"\n"]}),"\n",(0,s.jsxs)(t.ol,{start:"5",children:["\n",(0,s.jsx)(t.li,{children:"If the set to be imported has one or more import task set virtuals, specify the name, data type, and length."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"NOTE 1:"})," To view Log Information changes, click the Log Info tab. You can use the What's This? Help in the Log Info tab page for more information on each field."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"NOTE 2:"})," You can check the validity of the SQL statements by pressing the Check button. If the statements are correct, the Correct flag for the Import Task will be set to correct, that is, the checkbox will be checked. This is not a mandatory action, the state of the correct flag has no effect on the execution of the Import Task."]}),"\n",(0,s.jsx)(t.h3,{id:"import-task-example",children:"Import task, example"}),"\n",(0,s.jsx)(t.p,{children:"Suppose the product designers have created a new set of tours on a different system. An import task can be used to import this data (contained in an external set called NEW_TOURS) into the Travel Agency database."}),"\n",(0,s.jsx)(t.p,{children:"The import SQL statement to import the new data would be:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"INSERT INTO tour\n(\n \xa0 \xa0 \xa0 \xa0destination\n, \xa0 \xa0 \xa0 tour_type\n, \xa0 \xa0 \xa0 num_days\n, \xa0 \xa0 \xa0 max_age\n, \xa0 \xa0 \xa0 description\n, \xa0 \xa0 \xa0 image1\n)\nSELECT\n \xa0 \xa0 \xa0 \xa0n.destination\n, \xa0 \xa0 \xa0 n.tour_type\n, \xa0 \xa0 \xa0 n.num_days\n, \xa0 \xa0 \xa0 n.max_age\n, \xa0 \xa0 \xa0 n.description\n, \xa0 \xa0 \xa0 n.image1\nFROM \xa0 \xa0new_tours n\n\n"})}),"\n",(0,s.jsx)(t.p,{children:"The external set elements of which the data type, length, and format would have to be defined are the columns of the Tours table."}),"\n",(0,s.jsx)(t.h3,{id:"import-files-location",children:"Import files, location"}),"\n",(0,s.jsx)(t.p,{children:"By default, import files are searched by import tasks in the USoft working directory. To have these files searched in a different location, do one of the following:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Specify the Directory attribute for a Batch Runner item in USoft Binder."}),"\n",(0,s.jsx)(t.li,{children:"In Batchrunner calls, use the -data_directory predefined parameter."}),"\n",(0,s.jsx)(t.li,{children:"Add a data_directory parameter to the Batch Runner command line, for example:"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:'-exe "job( IMP_PERSON,INS_AFTER=01-APR-2001,data_directory=C:\\Data\\ )"\n\n'})}),"\n",(0,s.jsx)(t.p,{children:"You may want to set a hard-coded File Name attribute within the Import Task Set definition."}),"\n",(0,s.jsx)(t.admonition,{type:"note",children:(0,s.jsx)(t.p,{children:"The data_directory parameter takes precedence over hard-coded paths or %% variables in Import or Export Task definitions. If data_directory is set, partial paths (subfolder/filename) are concatenated with data_directory. File location is determined in the following order of precedence:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"data_directory parameter"}),"\n",(0,s.jsx)(t.li,{children:"Hard-coded path with system variables substituted"}),"\n",(0,s.jsx)(t.li,{children:"No path: current (working) directory"}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);