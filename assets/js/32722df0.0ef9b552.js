"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[52039],{3101:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/20a7263b-9f7d-4ab3-b798-73f533fa97d5-a0f07bb9cc7684ab89ebefd28aa925a8.png"},28453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var s=n(96540);const i={},o=s.createContext(i);function r(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(o.Provider,{value:t},e.children)}},32523:(e,t,n)=>{n.d(t,{A:()=>s});const s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAAAWCAMAAACG5yCqAAAASFBMVEX////9/v7M2O+ftuGPqtzG1O3K1+6luuO1x+jv8/ri6fb7/P7r8PmdtODQ2/D3+fzz9vvI1e6qvuTd5fS/z+vX4PLm7PekuuNPOThWAAABA0lEQVQ4y9XV66rDIAwA4GyzZ7po4yV17/+mJ14KK+s4heMYyw9BU77GKAjwVXE6X9SouEynrp6HmSV+unodql67OhRV6jOqNjV3Q7CuLswEXrdcICOjkUGjd4fUGKsBWHIJA5MtCwwLW6xfZMCuarQb9JUaDNaCHKeS81mppRVNUhlw3UY0TdWYD3TAJaJ5/XlVIZUque+3TtU6MfSE7qoJ5sfJ3+q2qS/UmNGGjbrbgVU1+ond76tbiOppRc7AWmg5rSwzqTixJem3U5q951ho5/2h05INx1aphFlvVqm73azSDlNyqRbsPOpD6r/iC9X7UPTe1WmoOq1vQXjHW/CG+AUYCx5jpyvkngAAAABJRU5ErkJggg=="},50617:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/9c6742ff-c4da-49ba-bf8e-f8a796042fba-4cf64f12dc740a27f3923e53bb5368d2.png"},82387:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Web_and_app_UIs/Web_menus/Rolebased_web_menus","title":"Role-based web menus","description":"This article explains the actions you must take to create a role-based or role-dependent initial web menu in your application. The initial menu is the menu displayed when a user logs on.","source":"@site/docs/Web_and_app_UIs/Web_menus/Rolebased_web_menus.md","sourceDirName":"Web_and_app_UIs/Web_menus","slug":"/Web_and_app_UIs/Web_menus/Rolebased_web_menus","permalink":"/udocs/Web_and_app_UIs/Web_menus/Rolebased_web_menus","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Rolebased_web_menus"},"sidebar":"sidebar","previous":{"title":"Web menus Quick Start","permalink":"/udocs/Web_and_app_UIs/Web_menus/Web_menus_Quick_Start"},"next":{"title":"Defining a menu","permalink":"/udocs/Web_and_app_UIs/Web_menus/Defining_a_menu"}}');var i=n(74848),o=n(28453);const r={id:"Rolebased_web_menus"},a="Role-based web menus",l={},d=[{value:"Step 1: USoft Definer: Define roles",id:"step-1-usoft-definer-define-roles",level:2},{value:"Step 2: Restart Web Designer",id:"step-2-restart-web-designer",level:2},{value:"Step 3: Define role-specific menus",id:"step-3-define-role-specific-menus",level:2},{value:"Step 4: Map roles to menus",id:"step-4-map-roles-to-menus",level:2},{value:"Step 5: Switch from default menu to role-based menus",id:"step-5-switch-from-default-menu-to-role-based-menus",level:2},{value:"Step 6: Test",id:"step-6-test",level:2}];function h(e){const t={a:"a",admonition:"admonition",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"role-based-web-menus",children:"Role-based web menus"})}),"\n",(0,i.jsxs)(t.p,{children:["This article explains the actions you must take to create a ",(0,i.jsx)(t.em,{children:"role-based"})," or ",(0,i.jsx)(t.em,{children:"role-dependent"})," initial web menu in your application. The initial menu is the menu displayed when a user logs on."]}),"\n",(0,i.jsx)(t.p,{children:"The effect of these actions is that, when logging on, users associated with different roles see different menus."}),"\n",(0,i.jsx)(t.h2,{id:"step-1-usoft-definer-define-roles",children:"Step 1: USoft Definer: Define roles"}),"\n",(0,i.jsx)(t.p,{children:"In USoft Definer, define different roles for different users. Different roles will also have different access rights."}),"\n",(0,i.jsx)(t.h2,{id:"step-2-restart-web-designer",children:"Step 2: Restart Web Designer"}),"\n",(0,i.jsx)(t.p,{children:"If you had Web Designer open, make sure to close it and then re-open it from the USoft Binder file. This way, Web Designer picks up the new roles that you defined in Step 1."}),"\n",(0,i.jsx)(t.h2,{id:"step-3-define-role-specific-menus",children:"Step 3: Define role-specific menus"}),"\n",(0,i.jsx)(t.p,{children:"In Web Designer, in the Menus tab of the Catalog, define a different initial menu for each role."}),"\n",(0,i.jsxs)(t.p,{children:["What is a suitable menu for a role? A good start is simply to look at the role\u2019s ",(0,i.jsx)(t.em,{children:"table rights"}),". In the menu, include a menu line for each table that the role has at least 1 table right for, but not to other tables."]}),"\n",(0,i.jsx)(t.h2,{id:"step-4-map-roles-to-menus",children:"Step 4: Map roles to menus"}),"\n",(0,i.jsxs)(t.p,{children:["In Web Designer, on the Menus tab of the Catalog, open the RoleMenus object. Set the ",(0,i.jsx)(t.strong,{children:"First Menu Page"})," property for each role to the initial menu you want for the role."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(50617).A+"",width:"672",height:"258"})}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsx)(t.p,{children:"This example shows a 1:1 mapping between menus and roles, but even better is to create a Master Menu with all the options, and then make subclasses in the menu catalog for the individual roles. This is best practice in many cases, because usually, what defines role-based access is that a role must be disallowed certain options, and it is easy to delete a menu line from a subclass menu. Why would you bother with a Master Menu?"})}),"\n",(0,i.jsx)(t.h2,{id:"step-5-switch-from-default-menu-to-role-based-menus",children:"Step 5: Switch from default menu to role-based menus"}),"\n",(0,i.jsx)(t.p,{children:"Find out what is the StartPage of the Publication Configuration that you publish against. (The default StartPage is called ApplicationPage.)"}),"\n",(0,i.jsx)(t.p,{children:"Open this page class from the Pages tab of the Web Designer catalog."}),"\n",(0,i.jsxs)(t.p,{children:["In the Object Tree on the right, check that you have a MenuControl (if not, insert one). For the MenuControl, set ",(0,i.jsx)(t.strong,{children:"Menu Name"})," to ",(0,i.jsx)(t.strong,{children:"Group Menu"}),"."]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(3101).A+"",width:"582",height:"403"})}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{src:n(32523).A+"",width:"85",height:"22"})}),"\n",(0,i.jsxs)(t.p,{children:["Prior to USoft 10.0.1K, at this point, you had to rename the Menu File property from ",(0,i.jsx)(t.strong,{children:"DefaultMenu.xml"})," to ",(0,i.jsx)(t.strong,{children:"Menus.xml"}),". This is no longer necessary. The Menu File property has been dropped."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"step-6-test",children:"Step 6: Test"}),"\n",(0,i.jsx)(t.p,{children:"To test the result, in USoft Authorizer, run Fill Authorizer Tables for the application, so that USoft Authorizer picks up the new roles you defined in Step 1."}),"\n",(0,i.jsx)(t.p,{children:"For each role, define a separate Application User, and make sure he is associated with the role."}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.p,{children:["If you work with ",(0,i.jsx)(t.a,{href:"/udocs/Authorisation_and_access/Introducing_USoft_authorisation/Merged_roles",children:"merged roles"}),", USoft will automatically attempt to compose an appropriate menu for users who hold multiple roles. But this is a next step. First, test your role-based menus simply with dummy test users, each of which is associated to only 1 role. This way, you can check that the role-based menus work properly, independently of any effect of role merge."]})}),"\n",(0,i.jsx)(t.p,{children:"Make sure you re-start the Rules Service so that it picks up the new roles of Step 1."}),"\n",(0,i.jsx)(t.p,{children:"In your browser, log on as the different users. Depending on who you log on as, you should now see the correct role-dependent initial menu."})]})}function u(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);