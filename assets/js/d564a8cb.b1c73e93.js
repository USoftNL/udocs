"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[54252],{25985:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>a,toc:()=>T});const a=JSON.parse('{"id":"Extensions/XML_internal_component/XMLCreateDTD","title":"XML.CreateDTD","description":"This article is about the CreateDTD method of the XML internal component.","source":"@site/docs/Extensions/XML_internal_component/XMLCreateDTD.md","sourceDirName":"Extensions/XML_internal_component","slug":"/Extensions/XML_internal_component/XMLCreateDTD","permalink":"/udocs/Extensions/XML_internal_component/XMLCreateDTD","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"XMLCreateDTD"},"sidebar":"sidebar","previous":{"title":"XML internal component","permalink":"/udocs/Extensions/XML_internal_component"},"next":{"title":"XML.Export","permalink":"/udocs/Extensions/XML_internal_component/XMLExport"}}');var s=t(74848),r=t(28453);const o={id:"XMLCreateDTD"},i="XML.CreateDTD",l={},T=[{value:"<strong>XML.CreateDTD</strong>",id:"xmlcreatedtd-1",level:2},{value:"Tables",id:"tables",level:2},{value:"Columns",id:"columns",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"xmlcreatedtd",children:"XML.CreateDTD"})}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["This article is about the ",(0,s.jsx)(n.strong,{children:"CreateDTD"})," method of the ",(0,s.jsx)(n.a,{href:"/Extensions/XML_internal_component",children:"XML internal component"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"xmlcreatedtd-1",children:(0,s.jsx)(n.strong,{children:"XML.CreateDTD"})}),"\n",(0,s.jsx)(n.p,{children:"Generates DTD output based on a SELECT statement. The content of the DTD document is directly deduced from the table definitions in the repository."}),"\n",(0,s.jsx)(n.p,{children:'The resulting DTD output is a string. Only one document is generated, even if the SELECT retrieves more than one record. The structure of the DTD output is described in "Document Type Definition (DTD) Specification".'}),"\n",(0,s.jsx)(n.p,{children:"This XML Create DTD method can for example be used in a productive constraint, to fill or update a database column with the result of the DTD output."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Syntax"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INVOKE    XML.CreateDTD WITH\nSELECT    *expression, expression*...\nFROM      *table*\n\n*expression*  ::=  \n  {    *column*        |\n       OLD( *column* ) |\n       *             |\n       OLD( * )      }\n"})}),"\n",(0,s.jsx)(n.p,{children:"Only the selected columns are generated in the DTD output."}),"\n",(0,s.jsx)(n.p,{children:"The FROM clause may only contains a single table or logical view."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example 1"})}),"\n",(0,s.jsx)(n.p,{children:"Here is an example of a simple DTD creation:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:"INVOKE      XML.CreateDTD WITH\nSELECT      id\n,           family_name\n,           first_name\nFROM        person\n"})}),"\n",(0,s.jsx)(n.p,{children:"This results in:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<!ELEMENT PERSON ((Person|QUERY)*)>\n<!ELEMENT Person ((INSERT|UPDATE|DELETE)?)>\n<!ELEMENT INSERT (EMPTY)>\n<!ELEMENT UPDATE (EMPTY)>\n<!ELEMENT DELETE (EMPTY)>\n<!ELEMENT QUERY (EMPTY)>\n<!ATTLIST QUERY PERSON_ID CDATA #IMPLIED>\n<!ATTLIST UPDATE PERSON_ID CDATA #IMPLIED>\n<!ATTLIST Person PERSON_ID CDATA #REQUIRED>\n<!ATTLIST QUERY FAMILY_NAME CDATA #IMPLIED>\n<!ATTLIST UPDATE FAMILY_NAME CDATA #IMPLIED>\n<!ATTLIST Person FAMILY_NAME CDATA #REQUIRED>\n<!ATTLIST QUERY FIRST_NAME CDATA #IMPLIED>\n<!ATTLIST UPDATE FIRST_NAME CDATA #IMPLIED>\n<!ATTLIST Person FIRST_NAME CDATA #REQUIRED>\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.em,{children:"Example 2"})}),"\n",(0,s.jsx)(n.p,{children:"Here is a more involved example that shows how USoft data integrity rules translate into DTD rules. The remainder of this article shows some rules for tables and columns translated into DTD checks."}),"\n",(0,s.jsx)(n.p,{children:"You can validate against such a DTD the content of an XML file to be imported into USoft. However, a USoft repository can check many more aspects of data integrity. The number of possible checks that can be generated into a DTD is more limited."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<!ELEMENT employees ((employee | query)*)>\n<!ELEMENT employee (insert | update | delete)?>\n<!ATTLIST employee ID #CDATA #REQUIRED>\n<!ATTLIST employee lastname #CDATA # #REQUIRED>\n<!ATTLIST employee name #CDATA #IMPLIED>\n<!ATTLIST employee insertion #CDATA ("den" | "van der" | "van") "">\n<!ELEMENT insert (EMPTY)>\n<!ELEMENT delete (EMPTY)>\n<!ELEMENT update (EMPTY)>\n<!ATTLIST update lastname #CDATA #IMPLIED>\n<!ATTLIST update name #CDATA #IMPLIED>\n<!ATTLIST update insertion #CDATA ("den" | "van der" | "van") "">\n<!ELEMENT query (EMPTY)>\n<!ATTLIST query lastname #CDATA #IMPLIED>\n<!ATTLIST query name #CDATA #IMPLIED>\n<!ATTLIST query insertion #CDATA #IMPLIED>\n'})}),"\n",(0,s.jsx)(n.h2,{id:"tables",children:"Tables"}),"\n",(0,s.jsx)(n.p,{children:"The following DTD line indicates that the XML may contain the employees element, which many have zero or more employee elements:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<!ELEMENT employees (employee*)>\n"})}),"\n",(0,s.jsx)(n.p,{children:"The following indicates that an employee element may contain zero or one insert, update or delete element. This maps to whether the table is insertable, updatable, deletable."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<!ELEMENT employee (insert | update | delete)?>\n"})}),"\n",(0,s.jsx)(n.p,{children:"The following specifies that there can be empty insert, update, and delete elements."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<!ELEMENT insert (EMPTY)>\n<!ELEMENT delete (EMPTY)>\n<!ELEMENT update (EMPTY)>\n"})}),"\n",(0,s.jsx)(n.h2,{id:"columns",children:"Columns"}),"\n",(0,s.jsx)(n.p,{children:"The following indicates that the employee element has a 'lastname' attribute with character data. This attribute is REQUIRED."}),"\n",(0,s.jsx)(n.p,{children:"It also has a \u2018name\u2019 attribute. This attribute is NOT required. (IMPLIED)."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<!ATTLIST employee lastname #CDATA #REQUIRED>\n<!ATTLIST employee name CDATA #IMPLIED>\n"})}),"\n",(0,s.jsx)(n.p,{children:"The following indicates allowed values for the domain that a column is based on."}),"\n",(0,s.jsx)(n.p,{children:"The employee element has an insertion attribute of type character. The values are restricted to an enumerated set."}),"\n",(0,s.jsx)(n.p,{children:"The values represented in XML correspond with the allowed values (the exact data in the database), not with the prompts for the allowed values."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<!ATTLIST employee insertion #CDATA ("den" | "van der" | "van") "">\n'})}),"\n",(0,s.jsx)(n.p,{children:"If a column is not updateable, there will be no attribute for it in the update element. Update attributes are non mandatory (IMPLIED). No measures have been taken to prevent the update of a primary key value. This should be defined by making the column non-updatable. The insertion attribute can only be updated to an allowed value:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:'<!ATTLIST update lastname #CDATA #IMPLIED>\n<!ATTLIST update name #CDATA #IMPLIED>\n<!ATTLIST update insertion CDATA ("den" | "van der" | "van") "">\n'})}),"\n",(0,s.jsx)(n.p,{children:"\xa0"})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var a=t(96540);const s={},r=a.createContext(s);function o(e){const n=a.useContext(r);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);