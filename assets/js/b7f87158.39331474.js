"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[57571],{11274:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>o,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"Services/Organising_services/Versioning_custom_REST_services","title":"Versioning custom REST services","description":"This help topic is about versioning custom REST services. You can also version predefined REST services.","source":"@site/docs/Services/Organising_services/Versioning_custom_REST_services.md","sourceDirName":"Services/Organising_services","slug":"/Services/Organising_services/Versioning_custom_REST_services","permalink":"/udocs/Services/Organising_services/Versioning_custom_REST_services","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Versioning_custom_REST_services"},"sidebar":"sidebar","previous":{"title":"Modular service (REST, SOAP) development","permalink":"/udocs/Services/Organising_services/Modular_service_REST_SOAP_development"},"next":{"title":"Pagination of custom REST services","permalink":"/udocs/Services/Organising_services/Pagination_of_custom_REST_services"}}');var i=t(74848),r=t(28453);const o={id:"Versioning_custom_REST_services"},c="Versioning custom REST services",d={},a=[{value:"Versioning directly in the request URL",id:"versioning-directly-in-the-request-url",level:2},{value:"Versioning in a Vendor MIME Type",id:"versioning-in-a-vendor-mime-type",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"versioning-custom-rest-services",children:"Versioning custom REST services"})}),"\n",(0,i.jsx)(n.p,{children:"This help topic is about versioning custom REST services. You can also version predefined REST services."}),"\n",(0,i.jsx)(n.p,{children:'A common way of handling business changes in REST Services is to offer multiple versions of the "same" REST method within the same API. There are different ways of doing this.'}),"\n",(0,i.jsx)(n.h2,{id:"versioning-directly-in-the-request-url",children:"Versioning directly in the request URL"}),"\n",(0,i.jsx)(n.p,{children:"You can offer multiple versions of the same functionality within one REST API by designing request URLs that are different only with respect to versioning. For example, the following URL could be used for version 2 of CurrentBookings:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"http://localhost:8090/mycustomservice/v2/CurrentBookings\n"})}),"\n",(0,i.jsx)(n.p,{children:"To make this work, create a new REST service with a new Relative URI Path:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"/mycustomservice/v2\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then implement, in the new REST service, all the methods that require a new version."}),"\n",(0,i.jsx)(n.p,{children:"The drawback of this technique is that clients must update all software that directs request URLs at the service to get the new version."}),"\n",(0,i.jsx)(n.h2,{id:"versioning-in-a-vendor-mime-type",children:"Versioning in a Vendor MIME Type"}),"\n",(0,i.jsx)(n.p,{children:"You can alternatively offer multiple versions of the same functionality within one REST API by providing different methods with different Accepts and Produces attributes."}),"\n",(0,i.jsxs)(n.p,{children:["This time, in order to a get the new version, a client does not change the request URL. Instead, he changes the value of the standard ",(0,i.jsx)(n.strong,{children:"Content-Type"})," and ",(0,i.jsx)(n.strong,{children:"Accept"})," HTTP headers (as appropriate; read on for further explanation)."]}),"\n",(0,i.jsx)(n.p,{children:"To get this to work, you need multiple methods with unique Method Names, identical Relative URI Paths, but different Accepts and Produces attributes:"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Method Name"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Relative\xa0URI\xa0Path"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Accepts"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Produces"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PostCustomer-v1"}),(0,i.jsx)(n.td,{children:"/Customers"}),(0,i.jsx)(n.td,{children:"text/vnd.customer.v1+xml"}),(0,i.jsx)(n.td,{children:"text/vnd.customer.v1+xml"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"PostCustomer-v2"}),(0,i.jsx)(n.td,{children:"/Customers"}),(0,i.jsx)(n.td,{children:"text/vnd.customer.v2+xml"}),(0,i.jsx)(n.td,{children:"text/vnd.customer.v2+xml"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"In the example, the standard media type"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"text/xml\n"})}),"\n",(0,i.jsx)(n.p,{children:"has been replaced by vendor-specific media types, or Vendor MIME Types, that indicate versioning, namely"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"text/vnd.customer.v1+xml\ntext/vnd.customer.v2+xml\n\n"})}),"\n",(0,i.jsx)(n.p,{children:"In the added part, 'vnd' is a conventional abbreviation for 'Vendor MIME Type'. 'customer' is any string that refers to the versioned functionality; many times, the new version will offer the same functionality but operate on a different version of the data, in which case it is good practice to make this string refer to the appropriate new structure used in the method's new parameters. 'v1' is a conventional abbreviation for \"version 1\"."}),"\n",(0,i.jsxs)(n.p,{children:["At runtime, the client matches the Accepts value by setting the ",(0,i.jsx)(n.strong,{children:"Content-Type"})," HTTP header to the same value, and the Produces value by setting the ",(0,i.jsx)(n.strong,{children:"Accept"})," HTTP header."]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>c});var s=t(96540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);