"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[40413],{21914:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"Modeller_and_Rules_Engine/SQL_syntax/Host_variables_in_SQL","title":"Host variables in SQL","description":"This article is about host variables as part of the SQL syntax that USoft supports.","source":"@site/docs/Modeller_and_Rules_Engine/SQL_syntax/Host_variables_in_SQL.md","sourceDirName":"Modeller_and_Rules_Engine/SQL_syntax","slug":"/Modeller_and_Rules_Engine/SQL_syntax/Host_variables_in_SQL","permalink":"/udocs/Modeller_and_Rules_Engine/SQL_syntax/Host_variables_in_SQL","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Host_variables_in_SQL"},"sidebar":"sidebar","previous":{"title":"Pseudo-columns","permalink":"/udocs/Modeller_and_Rules_Engine/SQL_syntax/Pseudocolumns"},"next":{"title":"Group functions","permalink":"/udocs/Modeller_and_Rules_Engine/SQL_syntax/Group_functions"}}');var i=s(74848),o=s(28453);const a={id:"Host_variables_in_SQL"},l="Host variables in SQL",r={},c=[{value:"Passing values to SqlScript()",id:"passing-values-to-sqlscript",level:2},{value:"Passing values to Decision SQL",id:"passing-values-to-decision-sql",level:2},{value:"Passing values from Decision SQL to SqlScript()",id:"passing-values-from-decision-sql-to-sqlscript",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"host-variables-in-sql",children:"Host variables in SQL"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["This article is about ",(0,i.jsx)(n.strong,{children:"host variables"})," as part of the ",(0,i.jsx)(n.a,{href:"/Modeller_and_Rules_Engine/SQL_syntax",children:"SQL syntax"})," that USoft supports.\nHost variables in SQL are a feature of the ",(0,i.jsx)(n.a,{href:"/udocs/Task_flow/Action_Language_reference/USoft_Action_Language",children:"USoft Action Language"}),"."]})}),"\n",(0,i.jsxs)(n.p,{children:["The USoft Action Language allows you to pass values from your application to and from positions in SQL statements. Values are passed by position: ",(0,i.jsx)(n.strong,{children:":1"})," represents the first value passed or retrieved, ",(0,i.jsx)(n.strong,{children:":2"})," the second, and so on."]}),"\n",(0,i.jsx)(n.h2,{id:"passing-values-to-sqlscript",children:"Passing values to SqlScript()"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(25473).A+"",width:"69",height:"30"})}),"\n",(0,i.jsx)(n.p,{children:"This option is available from USoft 10.1.1A."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["In SqlScript() calls, if you surround the SQL script by ",(0,i.jsx)(n.strong,{children:"back ticks"})," (\xa0",(0,i.jsx)(n.strong,{children:"`"}),"\xa0), you can use numbered placeholders between these back ticks. This syntax is similar to string templates (or string interpolation) in JavaScript/ES6."]}),"\n",(0,i.jsxs)(n.p,{children:["In this example, the value held by query.name.value() is substituted at the position of the ",(0,i.jsx)(n.strong,{children:":1"})," placeholder is, and the value held by Variables.Text_Box_1() is substituted at the position of the ",(0,i.jsx)(n.strong,{children:":2"})," placeholder:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SqlScript(\n`update  tour_programme \n set     max_age = :2 \n where   destination = :1 \n and     tour_type = 'ISLAND SUNTANNER'`\n ,       query.name.value()\n ,       Variables.Text_Box_1()\n)\n"})}),"\n",(0,i.jsx)(n.p,{children:"If the first value is the string \u2018AUSTRALIA\u2019 and the second value is the integer 35, this is equivalent to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SqlScript(\n`update  tour_programme \n set     max_age = :2 \n where   destination = :1 \n and     tour_type = 'ISLAND SUNTANNER'`\n ,       'AUSTRALIA'\n ,       35\n)\n"})}),"\n",(0,i.jsx)(n.p,{children:"This is, in turn, equivalent to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"update  tour_programme \nset     max_age = 35 \nwhere   destination = 'AUSTRALIA' \nand     tour_type = 'ISLAND SUNTANNER'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"passing-values-to-decision-sql",children:"Passing values to Decision SQL"}),"\n",(0,i.jsxs)(n.p,{children:["In ActionDecision() calls, you can pass values and substitute these in Decision SQL at the position of ",(0,i.jsx)(n.strong,{children:":1"}),", ",(0,i.jsx)(n.strong,{children:":2"})," \u2026 placeholders:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"action ActionDecision( 'DECISION_1', 'myvalue' )\n"})}),"\n",(0,i.jsx)(n.p,{children:"If the Decision SQL of decision DECISION_1 is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT   some_column "some_column"\nFROM     some_table\nWHERE    some_other_column = :1\n'})}),"\n",(0,i.jsx)(n.p,{children:"then calling the decision will result in executing:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:"SELECT   some_column \"some_column\"\nFROM     some_table\nWHERE    some_other_column = 'myvalue'\n"})}),"\n",(0,i.jsx)(n.h2,{id:"passing-values-from-decision-sql-to-sqlscript",children:"Passing values from Decision SQL to SqlScript()"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(25473).A+"",width:"69",height:"30"})}),"\n",(0,i.jsx)(n.p,{children:"This option is available from USoft 10.1.1A."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.p,{children:"In the Yes Action of a Decision, you can catch output values of the Decision SQL and substitute them in calls to SqlScript(). :1 refers to the first output value in the SELECT list, :2 to the second, and so on."}),"\n",(0,i.jsx)(n.p,{children:"If the Decision SQL is:"}),"\n",(0,i.jsx)(n.p,{children:"(Decision SQL:)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-sql",children:'SELECT   some_column "some_column"\nFROM     some_table\nWHERE    . . .\n'})}),"\n",(0,i.jsx)(n.p,{children:"then in the Yes Action of the Decision, for each value of \u201csome_column\u201d, you can perform an SQL manipulation that uses the value."}),"\n",(0,i.jsx)(n.p,{children:'The result of the following example is that in each record that has the "some_column\u201d value in column_B, column_A is set to the value held by \'query.name.value()\u2019, following also the mechanism discussed in the "Passing values to SqlScript()\u201d section earlier in this article:'}),"\n",(0,i.jsx)(n.p,{children:"(Yes Action:)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SqlScript(\n  `update some_other_table set column_A = :2 where column_B = :1`\n, :1\n, query.name.value()\n)\n"})}),"\n",(0,i.jsx)(n.p,{children:"In this context, instead of using numbered placeholders, you can alternatively refer to output columns by column alias:\n(Yes Action:)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"SqlScript(\n  `update some_other_table set column_A = :2 where column_B = :1`\n, :some_column\n, query.name.value()\n)\n"})})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},25473:(e,n,s)=>{s.d(n,{A:()=>t});const t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAAeCAMAAABNGiMvAAABjFBMVEX////t8vl7m9VSfchEcsR+ntbw8/pWf8pZgsvy9fuHpNmQrNxWgMpag8tco+TP7f3///vPsMREj+DJ7f3z5+qShsREcsyGwfDn+///9vCYcsREcs+SzPbz/f//6eil4P1uxfT5/////f9EctO26f//+/a9rtmGvPDz///53uBEctGx5P1Ect3J8v9EmOrn//3z9P//5OZccsREht+rwdmY2/tEcujh///z29+r5P//+PKlcsRcs+Sro9/P9v+NvuaSj+ie3v3/8u6Nt/L5//nJqMREsPDhycT///a2csREct9EmOjh/f/nztNEctv55OSN1/n//fSxhsR0zvf///fDncREhubb/f/54ONEj9WGpdmr4PvVvtmGodNccsyr5P3/+/fDtdl6pdmGnc9ondmGpeTV9v//9vKrpdmAlsx6j8R0odmGpezn////6+yN1Pn///nPt9ml3vu9mMREyfbz4uaGhsTh0ePV+P9XgMpZgcqKp9qNqdtUfsnz9vvs8fl6mtVQe8hTfcnu8vrVMJDKAAABQklEQVRIx2NgGI6AkYmZhVzAzMoGNYSdbDNAgIMTbAoXRYawsHCDTeGh0BResCkUGsLCMhJM4eMXEGRhERJmYBARBfHFxCUkpcAy0jKycmAReZAKvKYoKCoB1SirqKqpa2gC+VraDAwQU3R0lRjApujpGxga4TfF2MQUaIqZuQULi6WVNVDAxtYO6hZ7B3OwKY5Ozi6uhMIFZIqbhjuQ4eEJ4nvBTAGaDTLF28fXT9ffiEJTAgKDWIJDQokwBeIjiG40U8LCwXoijPCZEhkVLRATGxefkKiuYSGdlMySkpqWnpEZGZUllp2TmxeVlV9QGBUVVRRSjM+UEpCApJQxMKZLy0CWq4AELEoY3L3sQKzyCnD86OUiO2Zwp90BNqWSQkOqwKZUU2hKDdgUtlrKnFIHqQTqGxrJNqOJtXmgK0KaAAC260fo9jE9ZAAAAABJRU5ErkJggg=="},28453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var t=s(96540);const i={},o=t.createContext(i);function a(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(o.Provider,{value:n},e.children)}}}]);