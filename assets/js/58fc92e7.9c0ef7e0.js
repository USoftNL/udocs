"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[76060],{28453:(e,i,s)=>{s.d(i,{R:()=>c,x:()=>l});var n=s(96540);const r={},t=n.createContext(r);function c(e){const i=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(t.Provider,{value:i},e.children)}},62994:(e,i,s)=>{s.r(i),s.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>n,toc:()=>a});const n=JSON.parse('{"id":"Repositories/Blend_directives/pcServiceInstall","title":"pc:ServiceInstall","description":"This article is about the pc:ServiceInstall Blend directive.","source":"@site/docs/Repositories/Blend_directives/pcServiceInstall.md","sourceDirName":"Repositories/Blend_directives","slug":"/Repositories/Blend_directives/pcServiceInstall","permalink":"/udocs/Repositories/Blend_directives/pcServiceInstall","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"pcServiceInstall"},"sidebar":"sidebar","previous":{"title":"pc:SaveVariables","permalink":"/udocs/Repositories/Blend_directives/pcSaveVariables"},"next":{"title":"pc:ServiceList","permalink":"/udocs/Repositories/Blend_directives/pcServiceList"}}');var r=s(74848),t=s(28453);const c={id:"pcServiceInstall"},l="pc",o={},a=[{value:"<strong>pc</strong>",id:"pc-1",level:2},{value:"Installing a USoft Rules Service",id:"installing-a-usoft-rules-service",level:2},{value:"Installing a USoft SFW server",id:"installing-a-usoft-sfw-server",level:2},{value:"Installing a non-USoft-specific service",id:"installing-a-non-usoft-specific-service",level:2}];function d(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.header,{children:(0,r.jsxs)(i.h1,{id:"pc",children:["pc",":ServiceInstall"]})}),"\n",(0,r.jsx)(i.admonition,{type:"note",children:(0,r.jsxs)(i.p,{children:["This article is about the ",(0,r.jsxs)(i.strong,{children:["pc",":ServiceInstall"]}),(0,r.jsx)(i.a,{href:"/Repositories/Blend_directives",children:" Blend directive"}),"."]})}),"\n",(0,r.jsx)(i.h2,{id:"pc-1",children:(0,r.jsxs)(i.strong,{children:["pc",":ServiceInstall"]})}),"\n",(0,r.jsx)(i.p,{children:'Installs a Windows service on the local computer. This could be a USoft Rules Service, a server defined in USoft Service Definer (Service Framework server, or "SFW server"), or a non-USoft-specific service.'}),"\n",(0,r.jsxs)(i.p,{children:[(0,r.jsx)(i.em,{children:"Syntax"}),"\n\xa0"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:'<pc:ServiceInstall\n      servicename="*servicename*"\n      servicepath="*absolute-path*"\n      servicedescription="*servicedescription*"\n      servicestartup="*servicestartup*" />\n\n*servicedescription*  ::=  { *servicename*@*publication-file-path* | *text-literal* }\n\n*servicestartup*  ::=  { manual | automatic | disabled | delayed |\n                       waitfor:*servicename*[,*servicename*...] }\n'})}),"\n",(0,r.jsxs)(i.p,{children:["The required ",(0,r.jsx)(i.strong,{children:"servicename"})," is the Windows service name by which you want to install the service."]}),"\n",(0,r.jsxs)(i.p,{children:["The required ",(0,r.jsx)(i.strong,{children:"servicepath"})," is an absolute path leading to the .exe file that is able to install the service. For USoft-specific executables see the sections below."]}),"\n",(0,r.jsxs)(i.p,{children:["The required ",(0,r.jsx)(i.strong,{children:"servicedescription"})," must have the format ",(0,r.jsx)(i.em,{children:"servicename"}),"@",(0,r.jsx)(i.em,{children:"publication-file-path"})," if you are installing a server for the USoft Service Framework. Otherwise, ",(0,r.jsx)(i.strong,{children:"servicedescription"})," is any description text. The value of ",(0,r.jsx)(i.strong,{children:"servicedescription"})," shows up in the Windows Services panel."]}),"\n",(0,r.jsxs)(i.p,{children:["The optional ",(0,r.jsx)(i.strong,{children:"servicestartup"})," determines the Windows service's Startup Type. If you choose the option:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"waitfor:*servicename*[,*servicename*...]\n"})}),"\n",(0,r.jsx)(i.p,{children:'then the service can only start after the specified other service(s) has (have) been started first. See Example 1 in the "Installing a USoft SFW Server" section below.'}),"\n",(0,r.jsx)(i.h2,{id:"installing-a-usoft-rules-service",children:"Installing a USoft Rules Service"}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.strong,{children:"servicename"})," of a USoft Rules Service is conventionally, but not necessarily,"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"RulesService-*port*\n"})}),"\n",(0,r.jsxs)(i.p,{children:["where ",(0,r.jsx)(i.em,{children:"port"})," is the port number where the computer is listening for requests."]}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.strong,{children:"servicepath"})," of a USoft Rules Service must be set to:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"*usoft-bin-dir*\\RulesService.exe\n"})}),"\n",(0,r.jsx)(i.p,{children:"This executable program will look in the USoft BIN directory for a Rules Service configuration file by the following name:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"*servicename*.config\n"})}),"\n",(0,r.jsxs)(i.p,{children:["You can generate such a file by using pc",":ConfigRulesService","."]}),"\n",(0,r.jsxs)(i.p,{children:["For the purpose of installing a Rules Service, the pc",":ServiceInstall"," directive is also allowed to appear, without any attributes, as a child element of pc",":ConfigRulesService","."]}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.em,{children:"Example"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<pc:ServiceInstall\n    servicename="RulesService-7779"\n    servicepath="C:\\usd91\\bin64\\RulesService.exe"\n    servicedescription="USoft version 9.1.1B logging in: C:\\Users\\S4200\\AppData\\Local\\Temp\\USoft_logs\\rules_service" />\n'})}),"\n",(0,r.jsx)(i.h2,{id:"installing-a-usoft-sfw-server",children:"Installing a USoft SFW server"}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.strong,{children:"servicename"})," of an SFW server is conventionally, but not necessarily, the following name. This is also the ",(0,r.jsx)(i.strong,{children:"servicename"})," format that Service Definer generates for an SFW server in Development. You can view this name in Service Definer as Windows Service Name on the Server State tab of the Servers window for a server."]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"*servername-port*\n"})}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.strong,{children:"servicepath"})," of a server defined in USoft Service Definer must be set to:"]}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"*usoft-bin-dir*\\UService.exe\n"})}),"\n",(0,r.jsxs)(i.p,{children:["The ",(0,r.jsx)(i.strong,{children:"servicedescription"})," of an SFW server is required to have the following format, which communicates both the Windows Service name and the Publication File Path leading to the .JAR file and accompanying configuration files as published from Service Definer. This is also the ",(0,r.jsx)(i.strong,{children:"servicedescription"}),' format that Service Definer generates for an SFW server in Development. You can view this name in Service Definer as the first line of the "Description" value on the Server State tab of the Servers window for a server:']}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:"*servicename*@*publication-file-path*\n"})}),"\n",(0,r.jsx)(i.p,{children:"If you want to make sure that your SFW server does not start until the Rules Service(s) it depends on are started, specify:"}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{children:'servicestartup="RulesService1[,RulesService2...]"\n'})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.em,{children:"Example 1"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<pc:ServiceInstall\n    servicename="Default-8090"\n    servicepath="c:\\usd91\\bin64\\UService.exe"\n    servicedescription="Default-8090@C:\\USoft\\servers\\Default\\" />\n'})}),"\n",(0,r.jsx)(i.p,{children:(0,r.jsx)(i.em,{children:"Example 2"})}),"\n",(0,r.jsx)(i.pre,{children:(0,r.jsx)(i.code,{className:"language-xml",children:'<InstallSFWServer xmlns:pc="Processing.Command">\n   <pc:terminate test="not(wrights:HasAdminRole())" msg="{concat(\'Admin role is required. Available roles:\', wrights:Roles())}"/>\n   <pc:assign-string-default\n      SFW_server_name="Default"\n      serviceport="8090"\n      SFW_publication_file_path = "C:\\USoft\\servers\\Default\\"\n      logfile="{service:ServiceLogFile()}"\n      serviceexepath="{path:Combine(xslutil:USoftBinDir(), \'UService.exe\')}"\n      servicename="{concat( $SFW_server_name, \'-\', $serviceport)}"\n      servicedescription="{concat($servicename, \'@\', $SFW_publication_file_path)}"\n      servicestartup = "waitfor:RulesService-9157,RulesService-9158"/>\n   <pc:terminate test="service:ServiceIsInstalled($servicename)" msg="{concat(\'Service \', $servicename, \' is already installed.\')}"/>\n   <pc:ServiceInstall\n         servicename="{$servicename }"\n         servicepath="{$serviceexepath }"\n         servicedescription="{$servicedescription }"\n         startuptype="{$servicestartup }" >\n      <pc:Failed>\n         <pc:msg/>\n         <pc:comment-of>\n            <pc:text>Logfile is: </pc:text><pc:value-of select="$logfile"/>\n         </pc:comment-of>\n      </pc:Failed>\n      <pc:Succeeded>Service <pc:value-of select="$servicename"/> installed successfully.</pc:Succeeded>\n   </pc:ServiceInstall>   \n</InstallSFWServer>\n'})}),"\n",(0,r.jsx)(i.h2,{id:"installing-a-non-usoft-specific-service",children:"Installing a non-USoft-specific service"}),"\n",(0,r.jsxs)(i.p,{children:["To install a non-USoft-specific Windows service, specify as ",(0,r.jsx)(i.strong,{children:"servicename"})," the Windows Service name by which you want the service to be known."]}),"\n",(0,r.jsxs)(i.p,{children:["Specify as ",(0,r.jsx)(i.strong,{children:"servicepath"})," the executable of the program that knows how to install the service. While it is possible that configuration details are programmed inside the executable, it is more likely that you are expected to provide these details in some predefined way, for example in a configuration file in a specified location and with a specified name. Depending on the program, servicedescription can be a free-format field for comments (as with USoft Rules Services), or it may be required to contain configuration detailsConsult the program's documentation for these details."]}),"\n",(0,r.jsx)(i.p,{children:"In all cases, the Startup Type is an attribute of Microsoft Windows' implementation of services and is visible in the Services console. Consult MS Windows help for details on Startup Type."})]})}function h(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,r.jsx)(i,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}}}]);