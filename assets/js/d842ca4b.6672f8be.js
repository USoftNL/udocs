"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[76787],{5078:(e,s,r)=>{r.d(s,{A:()=>n});const n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAaCAMAAAAua5rOAAAAVFBMVEX////r6+qNjYZhYVdNTUJbW1FYWE5sbGPl5eSampS0tK/Q0M34+PhjY1nJycXy8vF4eG/Y2NWoqKKKioLf392/v7tra2KIiICLi4Pp6edVVUvm5uT3GBu8AAAA+UlEQVRIx+XV25LCIAwG4FCzSrqcKa6r7/+epgH1bpcZc2cu2ikDX/lJZwqgXWY5oEIdFiPalwa213H3Fi0NcWHupMedmNPTED+bA8sXAkLirpv1Of7tANfx6IML+32NdpZLkIlCfgwTBEI7VpsIQd7gpjmC8tyWrYHn2f2bJ7FRuOrtNOeN21pCbFDIxNSgVTKG/JglYXGe45PJEbKsKFBl5LV6mpMZDVIPCulNLkCjwkdMWyGyboTt+91ikrB8sJljS/r0N4chgsseE0eFrY5WdK7G3groTZHehH+4t+rTuLOedmbuR4+7MPd71dKuN80f4+Wm/s++A0aSIYrGA6JWAAAAAElFTkSuQmCC"},6589:(e,s,r)=>{r.d(s,{A:()=>n});const n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAE4AAAAbCAMAAADlN0lrAAAAWlBMVEX////z9vuNqdtehsxEcsRZgsuKp9rw9PphiM1bhMuQrNxojc/k6/bG1O1xlNLd5vTx9Ptbg8uww+aVr92Eotjq8PnO2u/4+f2juuLW4PKCode8zOpmi85Wf8qbHiw/AAAA/0lEQVRIx+3V227DIAwG4L8tTbaVs3FCtu79X3MY2uyqE1K5mLT5IiHI/oRDIoBfHofjST0f52lu2ssATOL1INxxkKbUm3CXYdxFuGGaUv/cQE7XRxhlHeBNuM9HD4pxf9Dlmhg+9nKeiSJ/JzoKWrfxsq5lFFZHBqmTw7Ivy2e6/48kU6nCWaiS2Mdt0KbkJxja8E7YiJjp1rxwRjJZd3KKFgYHKQr4qDN6r+3malJCe8UZ8THX1Wzrag1BR6IFqTVra53ztjabpG3btsL+zKnMgEsqmHLnfNuKtozk21ZoqTJdH8pz8ee46zDtKtw0jJuEm8+DtM92Ms7TuHP2Cw3SJdYWoh4vAAAAAElFTkSuQmCC"},28453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>a});var n=r(96540);const i={},t=n.createContext(i);function o(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(t.Provider,{value:s},e.children)}},29096:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"Services/Web_services/Web_service_error_messages","title":"Web service error messages","description":"----","source":"@site/docs/Services/Web_services/Web_service_error_messages.md","sourceDirName":"Services/Web_services","slug":"/Services/Web_services/Web_service_error_messages","permalink":"/udocs/Services/Web_services/Web_service_error_messages","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Web_service_error_messages"},"sidebar":"sidebar","previous":{"title":"Web Service Certificate files","permalink":"/udocs/Services/Web_services/Web_Service_Certificate_files"},"next":{"title":"Web service debugging tips","permalink":"/udocs/Services/Web_services/Web_service_debugging_tips"}}');var i=r(74848),t=r(28453);const o={id:"Web_service_error_messages"},a="Web service error messages",l={},d=[{value:"Web service error messages",id:"web-service-error-messages-1",level:2},{value:"Web service error handling",id:"web-service-error-handling",level:2},{value:"Customised XML error messages",id:"customised-xml-error-messages",level:2},{value:"Filtering error messages",id:"filtering-error-messages",level:2},{value:"Example: Customised XML",id:"example-customised-xml",level:2}];function c(e){const s={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"web-service-error-messages",children:"Web service error messages"})}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:r(5078).A+"",width:"78",height:"26"})}),"\n",(0,i.jsx)(s.admonition,{type:"danger",children:(0,i.jsxs)(s.p,{children:["In USoft 11.x, the functionality described here is ",(0,i.jsx)(s.strong,{children:"deprecated"}),"."]})}),"\n",(0,i.jsx)(s.p,{children:"Web service providers will be removed from USoft Definer and USoft Authorizer in USoft 12.x. Please use USoft Service Definer instead."}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:r(6589).A+"",width:"78",height:"27"})}),"\n",(0,i.jsx)(s.h2,{id:"web-service-error-messages-1",children:"Web service error messages"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["Deserializing parameter ",(0,i.jsx)(s.code,{children:"<parameter name>"}),": Could not find deserializer for type ",(0,i.jsx)(s.code,{children:"{<namespace>}<xml type name>"})]})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Cause:"})}),"\n",(0,i.jsx)(s.p,{children:"This error occurs for an RPC-oriented method if the type specified in the WSDL file does not match with the type specified by the response message (in case of an RPC-oriented method call the type name occurs in the message). The namespace and the type must be the same."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(s.p,{children:"If the web service provider is a USoft web service and the service is published in the Definer, make sure that the namespace used in the Authorizer is the same as the namespace used in the Definer."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["A fatal error occurred during XML parse at line ",(0,i.jsx)(s.code,{children:"<line number>"})," column ",(0,i.jsx)(s.code,{children:"<column number>"}),". Invalid document structure."]})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Cause:"})}),"\n",(0,i.jsx)(s.p,{children:"This usually happens if the USoft web client expects an XML message as parameter and the value is not in XML format."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(s.p,{children:"If the web service provider is a USoft web service and the method is a Document-oriented method or an RPC-oriented method with complex parameters, check that the values of output parameters are XML values."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"The request was unsuccessful due to an unexpected condition encountered by the server."})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Cause:"})}),"\n",(0,i.jsx)(s.p,{children:"This is a generic message that occurs if the Microsoft XML component is not installed, the Rules Service is not started, or the host and port number specified by the web service provider are not correct."}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Check that the Microsoft XML component is installed."}),"\n",(0,i.jsx)(s.li,{children:"Check the host and port number specified for the web service."}),"\n",(0,i.jsx)(s.li,{children:"Check that the Rules Service is running."}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"web-service-error-handling",children:"Web service error handling"}),"\n",(0,i.jsx)(s.p,{children:"You can improve the default error message behavior by using customized XML error messages or USoft XML error messages (or a combination). Both types of XML error messages apply an XSL transformation to the default error message."}),"\n",(0,i.jsxs)(s.p,{children:["Customized XML error messages are defined per web service provider method, and generate a wsdl",":fault"," element in the WSDL schema. This makes the structure of the error message available to the web service client."]}),"\n",(0,i.jsx)(s.p,{children:"The main characteristics of both types of error messages are:"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"Customized XML Error Messages"})}),(0,i.jsx)(s.th,{children:(0,i.jsx)(s.strong,{children:"USoft XML Error Messages"})})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Each method has its own XSL transformation. A default transformation is provided (userror_wsp.xsl)."}),(0,i.jsx)(s.td,{children:"Each USoft installation uses one XSL transformation, for example userror.xsl or userror_enduser.xsl"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsxs)(s.td,{children:["The ",(0,i.jsx)(s.code,{children:"<soap:detail>"})," element in the soap fault message contains the transformation result. This can be XML."]}),(0,i.jsxs)(s.td,{children:["The result of the transformation is a string and goes into soap",":faultstring"," and soap",":detail"," elements in the soap fault message."]})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"The WSDL schema contains fault information."}),(0,i.jsx)(s.td,{children:"The WSDL schema does NOT contain fault information"})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Only the error messages reported by a web service method are changed."}),(0,i.jsx)(s.td,{children:"Changing userror.xsl or userror_enduser.xsl changes all error messages reported by the Rules Service or by the application running."})]})]})]}),"\n",(0,i.jsx)(s.h2,{id:"customised-xml-error-messages",children:"Customised XML error messages"}),"\n",(0,i.jsx)(s.p,{children:"A WSDL schema can describe the structure of web service error messages. These messages can also be in XML format."}),"\n",(0,i.jsx)(s.p,{children:"For each web service provider method, you can customize the error handling by clicking the Advanced button in the Web Services (Provider) window, and then selecting the Use Custom XML Error Messages checkbox."}),"\n",(0,i.jsx)(s.p,{children:"The default error message structure for customized XML error messages is:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-xml",children:'<ErrorResponse xmlns=" http://www.usoft.com/Solutions/USoft/Product/Messages">\n<Code>code </Code>\n<Message>message</Message>\n</ErrorResponse>\n'})}),"\n",(0,i.jsx)(s.p,{children:"The default XSL transformation (userror_wsp.xsl) transforms the error xml into this format. For example, if the error is caused by a constraint, then the error code is the constraint name and the error message is the constraint message. A unique code is assigned also for errors from:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Mandatory columns \u2013 USMANCOL"}),"\n",(0,i.jsx)(s.li,{children:"Relationships \u2013 USREL"}),"\n",(0,i.jsx)(s.li,{children:"Min Max value for a domain - USDOMMIN and USDOMMAX"}),"\n",(0,i.jsx)(s.li,{children:"Allowed values for a domain \u2013 USDOMALLOWED"}),"\n",(0,i.jsx)(s.li,{children:"Column width \u2013 USCOLWIDTH"}),"\n",(0,i.jsx)(s.li,{children:"Uppercase \u2013 USCOLUPPER"}),"\n",(0,i.jsx)(s.li,{children:"Unique key - USUNIQUEKEY"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"All other errors have a generic USOFT999 error code."}),"\n",(0,i.jsx)(s.p,{children:"You can change the default XSL transformation:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"usoft-installation-folder\\xsl\\ErrorHandling\\userror_wsp.xsl\n"})}),"\n",(0,i.jsx)(s.p,{children:"You can also change the element definition for the error message in the underlying XML schema:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"usoft-installation-folder\\xsl\\ErrorHandling\\userror_wsp.xsd\n"})}),"\n",(0,i.jsx)(s.h2,{id:"filtering-error-messages",children:"Filtering error messages"}),"\n",(0,i.jsx)(s.p,{children:"If you change the userror.xsl transformation with the one described in"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"usoft-installation-folder\\xsl\\ErrorHandling\\userror_example.xsl\n"})}),"\n",(0,i.jsx)(s.p,{children:"only the following messages are displayed: table constraints, domain constraints, mandatory columns, relationships, min/max values for a domain, allowed values for a domain, column width for a domain, uppercase constraint for a domain and unique key."}),"\n",(0,i.jsx)(s.p,{children:'In all other cases, the string "Administrative error" is displayed.'}),"\n",(0,i.jsx)(s.h2,{id:"example-customised-xml",children:"Example: Customised XML"}),"\n",(0,i.jsx)(s.p,{children:"This example is based on Web Service Example 3: RPC-oriented method with a complex type parameter based on a domain with allowed values."}),"\n",(0,i.jsx)(s.p,{children:"One of the inserted column values is a maximum age. The corresponding AGE domain has four allowed values. When the request message contains 36 as value for max_age, you will get an error message, because 36 is not an allowed value. The soap error message is:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-xml",children:'<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">\n<soap:Body>\n<soap:Fault>\n<faultcode>soap:Server</faultcode>\n<faultstring>main\nValue 36 in field "max_age" not an allowed value in Domain "AGE" Cannot bind input</faultstring>\n<detail>main\nValue 36 in field "max_age" not an allowed value in Domain "AGE" Cannot bind input</detail>\n</soap:Fault>\n</soap:Body>\n</soap:Envelope>\n'})}),"\n",(0,i.jsx)(s.p,{children:"To change this default error for a web service method, click the Advanced button in the Web Services (Provider) window, and specify the following settings:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{src:r(33355).A+"",width:"887",height:"248"})}),"\n",(0,i.jsx)(s.p,{children:"The soap error message is now:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-xml",children:'<soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">\n<soap:Body>\n<soap:Fault>\n<faultcode>soap:Server</faultcode>\n<faultstring>main\nValue 36 in field "max_age" not an allowed value in Domain "AGE" Cannot bind input</faultstring>\n<detail>\n<ErrorResponse xmlns="http://www.usoft.com/Solutions/USoft/Product/Messages">\n<Code>USDOMALLOWED</Code>\n<Message>Value 36 in field "max_age" not an allowed value in Domain "AGE"</Message>\n</ErrorResponse>\n</detail>\n</soap:Fault>\n</soap:Body>\n</soap:Envelope>\n'})}),"\n",(0,i.jsx)(s.admonition,{type:"tip",children:(0,i.jsx)(s.p,{children:"To provide a different structure for the detail element in the soap message, or to handle more errors than USoft provides by default, either change the default XSL transformation in:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"usoft-installation-folder\\xsl\\ErrorHandling\\userror_wsp.xsl\n"})}),"\n",(0,i.jsx)(s.p,{children:"OR save this file under a different name (e.g. MyErrors.xsl), change the contents as required, and change the value of the XSL Error Transformation field in the Web Service Method Errors dialog to: MyErrors.xsl."}),"\n",(0,i.jsx)(s.p,{children:"To create a different structure, change the schema definition of the Namespace with Namespace Alias:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"err\n"})}),"\n",(0,i.jsx)(s.p,{children:"by adding a new complex type or simple type in:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"usoft-installation-folder\\xsl\\ErrorHandling\\userror_wsp.xsd\n"})}),"\n",(0,i.jsx)(s.p,{children:"You can also save this file under a different name, change the contents as required, and change the value of the XSL Error Element field in the Web Service Method Errors dialog."})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},33355:(e,s,r)=>{r.d(s,{A:()=>n});const n=r.p+"assets/images/7325a982-711d-4912-9505-9cd469d909b0-106c7edce45991f359d580cb3c555c3f.jpg"}}]);