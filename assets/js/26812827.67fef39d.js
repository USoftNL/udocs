"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[5669],{25254:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"Extensions/Web_service_components/How_to_implement_DIME_messages","title":"How to implement DIME messages","description":"To implement the use of DIME messages, you must add a new parameter after importing a Web Service Component into your repository. This parameter must be the last parameter in the list. This parameter will be used for file names that will be sent as attachments along with the SOAP message in the web service call. The parameter must have InList mode and Variable data type.","source":"@site/docs/Extensions/Web_service_components/How_to_implement_DIME_messages.md","sourceDirName":"Extensions/Web_service_components","slug":"/Extensions/Web_service_components/How_to_implement_DIME_messages","permalink":"/udocs/Extensions/Web_service_components/How_to_implement_DIME_messages","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"How_to_implement_DIME_messages"},"sidebar":"sidebar","previous":{"title":"DIME messages support","permalink":"/udocs/Extensions/Web_service_components/DIME_messages_support"},"next":{"title":"MTOM (Message Transmission Optimization Mechanism Support)","permalink":"/udocs/Extensions/Web_service_components/MTOM_Message_Transmission_Optimization_Mechanism_Support"}}');var r=s(74848),i=s(28453);const o={id:"How_to_implement_DIME_messages"},c="How to implement DIME messages",l={},a=[];function d(e){const n={code:"code",h1:"h1",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"how-to-implement-dime-messages",children:"How to implement DIME messages"})}),"\n",(0,r.jsx)(n.p,{children:"To implement the use of DIME messages, you must add a new parameter after importing a Web Service Component into your repository. This parameter must be the last parameter in the list. This parameter will be used for file names that will be sent as attachments along with the SOAP message in the web service call. The parameter must have InList mode and Variable data type."}),"\n",(0,r.jsx)(n.p,{children:"You can now call the web service component with attachments from your application:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"INVOKE <web-service-component>.<method>\nWITH\nSELECT <input-parameter-1>, ... <input-parameter-n>, <file-name-1>... <file-name-n>\n"})}),"\n",(0,r.jsx)(n.p,{children:"Where file names must contain the path."}),"\n",(0,r.jsx)(n.p,{children:"If you do not have a WSDL file for your web service, or if you do not want to use the web service component wizard, you can still create a web service component definition that sends a DIME message to a web service:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"From the menu, select Define, RDMI, Web Service Components."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Fill in a name for your web service."}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Create a constructor method with the following Physical Method:"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"this=new com.usoft.WebServiceClient.CallWebService()\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"4",children:["\n",(0,r.jsx)(n.li,{children:"The constructor method must have the same name as the component."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"On the Constructor tab, select the Active checkbox and Check the constructor SQL."}),"\n",(0,r.jsxs)(n.ol,{start:"5",children:["\n",(0,r.jsx)(n.li,{children:"Create another method that will send the DIME message, with Physical method:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"ar=com.usoft.joker.Util.newArray( (U)'java.lang.String',(i)'1' )\ncom.usoft.joker.Util.setArray( (O)ar,(i)'0',(O):4 )\nthis.sendDimeMessage( (U):0,(U):1,(U):2,(U)'',(U):3,([U)ar )\n"})}),"\n",(0,r.jsxs)(n.ol,{start:"6",children:["\n",(0,r.jsx)(n.li,{children:"Add the following parameters to this method:"}),"\n"]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Seqno"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Name"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Mode"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"DataType"})})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"0"}),(0,r.jsx)(n.td,{children:"url"}),(0,r.jsx)(n.td,{children:"In"}),(0,r.jsx)(n.td,{children:"String"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"1"}),(0,r.jsx)(n.td,{children:"soap_body"}),(0,r.jsx)(n.td,{children:"In"}),(0,r.jsx)(n.td,{children:"String"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"2"}),(0,r.jsx)(n.td,{children:"soap_header"}),(0,r.jsx)(n.td,{children:"In"}),(0,r.jsx)(n.td,{children:"String"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"3"}),(0,r.jsx)(n.td,{children:"dir"}),(0,r.jsx)(n.td,{children:"In"}),(0,r.jsx)(n.td,{children:"String"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"4"}),(0,r.jsx)(n.td,{children:"files"}),(0,r.jsx)(n.td,{children:"InList"}),(0,r.jsx)(n.td,{children:"Variable"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"5"}),(0,r.jsx)(n.td,{children:"result"}),(0,r.jsx)(n.td,{children:"Return"}),(0,r.jsx)(n.td,{children:"String"})]})]})]}),"\n",(0,r.jsxs)(n.ol,{start:"7",children:["\n",(0,r.jsx)(n.li,{children:"Now you can call this method from your application:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"INVOKE <web service component name>.<method name>\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"WITH\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"SELECT < url used to access your web service>,\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:" \xa0 \xa0<the soap body of the soap message>,\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:" \xa0 \xa0<the soap header of the soap message if any, otherwise null>,\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:" \xa0 \xa0<the folder where all files are located. It can be null>,\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:" \xa0 \xa0<file name 1>,\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:" \xa0 \xa0<file name 2>,\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:" \xa0 \xa0...\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:" \xa0 \xa0<file name n>\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var t=s(96540);const r={},i=t.createContext(r);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);