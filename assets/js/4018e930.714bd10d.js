"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[5371],{11889:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>r,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"Task_flow/Job_scheduling/Checking_if_a_job_should_run_at_all","title":"Checking if a job should run at all","description":"Often, a job should only run if a certain test is passed. For example, an import task is to run subject to a condition, such as:","source":"@site/docs/Task_flow/Job_scheduling/Checking_if_a_job_should_run_at_all.md","sourceDirName":"Task_flow/Job_scheduling","slug":"/Task_flow/Job_scheduling/Checking_if_a_job_should_run_at_all","permalink":"/udocs/Task_flow/Job_scheduling/Checking_if_a_job_should_run_at_all","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Checking_if_a_job_should_run_at_all"},"sidebar":"sidebar","previous":{"title":"Modelling scheduled jobs","permalink":"/udocs/Task_flow/Job_scheduling/Modelling_scheduled_jobs"},"next":{"title":"Action Language reference","permalink":"/udocs/Task_flow/Action_Language_reference"}}');var o=i(74848),t=i(28453);const a={id:"Checking_if_a_job_should_run_at_all"},l="Checking if a job should run at all",r={},c=[{value:"Using a decision to check if a job should run",id:"using-a-decision-to-check-if-a-job-should-run",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"checking-if-a-job-should-run-at-all",children:"Checking if a job should run at all"})}),"\n",(0,o.jsx)(n.p,{children:"Often, a job should only run if a certain test is passed. For example, an import task is to run subject to a condition, such as:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"The user must provide a suitable filename"}),"\n",(0,o.jsx)(n.li,{children:"The file must not already have been imported"}),"\n",(0,o.jsx)(n.li,{children:"A stock amount recorded in the database must be down to a certain maximum."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"You can include such a test at the beginning of the batch job using various means, for instance:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"By using a table-base external set as input parameter set, and then defining constraints on this table that check the input parameter values."}),"\n",(0,o.jsx)(n.li,{children:"By calling the job from a decision."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"If you insert a separate test at the beginning of the batch job, you get better performance if the job fails, and you avoid unnecessary messages in status files."}),"\n",(0,o.jsx)(n.h2,{id:"using-a-decision-to-check-if-a-job-should-run",children:"Using a decision to check if a job should run"}),"\n",(0,o.jsx)(n.p,{children:"To make job execution dependent on the user entering an (appropriate) filename in a dialog field F1, using a decision."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Define a new decision D1."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Define the following SQL statement for D1:"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-sql",children:"SELECT \xa0 'JOBNAME, datafile='||:F1\nWHERE \xa0 \xa0:fname IS NOT NULL\n\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"Define Yes Action:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"job(:1)\n\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:"Define No Action:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"message-error(You must enter a valid filename.)\n\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"5",children:["\n",(0,o.jsx)(n.li,{children:"Allow the end user to call the decision, for instance, by setting the Action property of a dialog button to:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"action-decision(D1)\n\n"})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>l});var s=i(96540);const o={},t=s.createContext(o);function a(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);