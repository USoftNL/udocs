"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[60830],{2488:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"Modeller_and_Rules_Engine/RDBMS_and_data_connectivity/Connecting_nondatabase_users_to_a_USoft_application","title":"Connecting non-database users to a USoft application","description":"In a number of cases you want to run a USoft application with a general database account and accept application users who do not have direct access to that database account. This is called account funneling: application users effectively share the same general database account.Validation Agent-specific information (password, mpped user Refer to your USoft Authorizer help for information about funneling and and user authentication.","source":"@site/docs/Modeller_and_Rules_Engine/RDBMS_and_data_connectivity/Connecting_nondatabase_users_to_a_USoft_application.md","sourceDirName":"Modeller_and_Rules_Engine/RDBMS_and_data_connectivity","slug":"/Modeller_and_Rules_Engine/RDBMS_and_data_connectivity/Connecting_nondatabase_users_to_a_USoft_application","permalink":"/udocs/Modeller_and_Rules_Engine/RDBMS_and_data_connectivity/Connecting_nondatabase_users_to_a_USoft_application","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Connecting_nondatabase_users_to_a_USoft_application"},"sidebar":"sidebar","previous":{"title":"Dynamic Link Libraries (DLLs)","permalink":"/udocs/Modeller_and_Rules_Engine/RDBMS_and_data_connectivity/Dynamic_Link_Libraries_DLLs"},"next":{"title":"Dynamic Data Exchange (DDE)","permalink":"/udocs/Modeller_and_Rules_Engine/RDBMS_and_data_connectivity/Dynamic_Data_Exchange_DDE"}}');var o=t(74848),i=t(28453);const s={id:"Connecting_nondatabase_users_to_a_USoft_application"},r="Connecting non-database users to a USoft application",c={},l=[];function u(e){const n={code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"connecting-non-database-users-to-a-usoft-application",children:"Connecting non-database users to a USoft application"})}),"\n",(0,o.jsx)(n.p,{children:"In a number of cases you want to run a USoft application with a general database account and accept application users who do not have direct access to that database account. This is called account funneling: application users effectively share the same general database account.Validation Agent-specific information (password, mpped user Refer to your USoft Authorizer help for information about funneling and and user authentication."}),"\n",(0,o.jsx)(n.p,{children:"In this case you still want to have the Rules Engine check rules for the specific application user. This type of deployment typically serves web application architectures. The web users are registered within USoft Authorizer and all authorization rules apply."}),"\n",(0,o.jsx)(n.p,{children:"To grant a non-database user access to a USoft application:"}),"\n",(0,o.jsx)(n.p,{children:"1.Define the user in the Authorizer."}),"\n",(0,o.jsx)(n.p,{children:"2.Set the Validation Agent to USoft."}),"\n",(0,o.jsx)(n.p,{children:"3.Define Validation Agent-specific information (e.g. password, mapped user, agent info.)."}),"\n",(0,o.jsx)(n.p,{children:"4.Attach this user to a user group for the application."}),"\n",(0,o.jsx)(n.p,{children:"To connect a user to a USoft application that uses a general database account, the following statement must be executed before any other statements are executed on behalf of that user:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"INVOKE RulesEngine.SetUser\nWITH\nSELECT '<username>', '<password>', '<key>'\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"This INVOKE statement returns the user name upon success, or an empty record set or error message in the case of a failure."}),"\n",(0,o.jsx)(n.p,{children:"The result of successfully executing this statement is that the Rules Engine applies the authorization rules for the user. The key field is currently not used but will serve in the future to allow logging or extra user authentication checks. For web applications, the IP number could be passed for example."}),"\n",(0,o.jsx)(n.p,{children:"Here is an ASP example, in which the authorized user 'JOHN' connects to a USoft application:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'<%\nOn error resume next\n\'-- Establish connection to the Database\nSet Conn = Server.CreateObject("ADODB.Connection")\nConn.Open "My_60_Connection"\nQuery = "INVOKE RulesEngine.SetUser WITH SELECT \'JOHN\', \'secret\', \'100.123.000.001\'"\nSet RS = Server.CreateObject("ADODB.recordset")\nRS.ActiveConnection = Conn\nRS.open Query\n%>\n<% RS.MoveFirst %>\n<% Response.Write RS("RETURN") %>\n<%\nIf err.number <> 0 Then\n \xa0 \xa0 \xa0 \xa0Response.Write err.description\nEnd if\nRS.Close\nSet RS = Nothing\nConn.Close\nSet Conn = Nothing\n%>\n\n'})})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>r});var a=t(96540);const o={},i=a.createContext(o);function s(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);