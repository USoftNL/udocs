"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[96431],{28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>a});var s=t(96540);const r={},o=s.createContext(r);function i(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:n},e.children)}},40911:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"Web_and_app_UIs/UDB_Events/rowpredelete","title":"rowpredelete","description":"This article is about the rowpredelete UDB event handler.","source":"@site/docs/Web_and_app_UIs/UDB_Events/rowpredelete.md","sourceDirName":"Web_and_app_UIs/UDB_Events","slug":"/Web_and_app_UIs/UDB_Events/rowpredelete","permalink":"/udocs/Web_and_app_UIs/UDB_Events/rowpredelete","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"rowpredelete"},"sidebar":"sidebar","previous":{"title":"rowprecreate","permalink":"/udocs/Web_and_app_UIs/UDB_Events/rowprecreate"},"next":{"title":"rowprerefresh","permalink":"/udocs/Web_and_app_UIs/UDB_Events/rowprerefresh"}}');var r=t(74848),o=t(28453);const i={id:"rowpredelete"},a="rowpredelete",c={},l=[{value:"<strong>rowpredelete</strong>",id:"rowpredelete-1",level:2},{value:"Purpose",id:"purpose",level:2},{value:"How to use",id:"how-to-use",level:2},{value:"Example",id:"example",level:2},{value:"Options",id:"options",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"rowpredelete",children:"rowpredelete"})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["This article is about the ",(0,r.jsx)(n.strong,{children:"rowpredelete"}),(0,r.jsx)(n.a,{href:"/Web_and_app_UIs/UDB_Events",children:" UDB event handler"}),"."]})}),"\n",(0,r.jsx)(n.h2,{id:"rowpredelete-1",children:(0,r.jsx)(n.strong,{children:"rowpredelete"})}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.strong,{children:"rowpredelete"})," event may be called from web pages developed in Web Designer and processed by a USoft page engine service."]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Event"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Applies to"})}),(0,r.jsx)(n.th,{children:(0,r.jsx)(n.strong,{children:"Occurs when"})})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"rowpredelete"})}),(0,r.jsx)(n.td,{children:"Data source objects"}),(0,r.jsx)(n.td,{children:"Before a record is deleted"})]})})]}),"\n",(0,r.jsx)(n.h2,{id:"purpose",children:"Purpose"}),"\n",(0,r.jsx)(n.p,{children:"You can use this event restrictively to keep the user from deleting a record if some precondition is not satisfied."}),"\n",(0,r.jsx)(n.h2,{id:"how-to-use",children:"How to use"}),"\n",(0,r.jsx)(n.p,{children:"Find or create an Event Listener object with Event Type = rowpredelete. Event Listeners are in the Web Designer Controls catalog:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{src:t(83461).A+"",width:"104",height:"32"})}),"\n",(0,r.jsx)(n.p,{children:"Insert the event listener into the data source object. Insert a callClientScript action into the event listener. Use this action's Script property to code the behaviour that you want to see when the event occurs. For example, for restrictive action, a typical pattern is to specify the condition under which you want the record delete to be prevented, block processing, and give an error message in an alert box. This pattern looks like this:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"if ( *condition-not-satisfied* ) {\n  options.success = false;\n  alert( *message* );\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"You are implicitly associating the event with an event handler function. This function has an options parameter. For available options, see the Options section at the end of this help topic:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function(*evt*, *options*){ ... }\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Or you can create the event handler more explicitly by calling ",(0,r.jsx)(n.strong,{children:"$.udb('data-source').on()"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"example",children:"Example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'if ( this.rows(\'current\').cols("AGE").val() < 18 ) {\n  options.success = false;\n  alert( "Cannot delete minors from this page." );\n}\n'})}),"\n",(0,r.jsx)(n.h2,{id:"options",children:"Options"}),"\n",(0,r.jsx)(n.p,{children:"When the event occurs, the following event handler function is called. You can use this function's options parameter in your event scripting."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"function( 'rowpredelete', *options* ){}\n\n*options*   ::=  *event-options*\n\n*event-options*   ::=  {\n     success:  *success*\n}\n\n*success*  ::=  { true | false }\n"})}),"\n",(0,r.jsxs)(n.p,{children:["This syntax means that you can access the ",(0,r.jsx)(n.strong,{children:"success"})," option by scripting: options.success.\nIf you set ",(0,r.jsx)(n.em,{children:"success"})," to false, processing is interrupted. As a result, the update will not take place."]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},83461:(e,n,t)=>{t.d(n,{A:()=>s});const s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGgAAAAgCAMAAADJyc2SAAABFFBMVEX///9CQkL/35tQUJvf//8lJSXfm1AlJVB3m72bUCUlUJt3UCUlUHeb3/9QUHebd1B3vf93d1AlJXebm1B3m9/f/713JXe9//9QJXe935v//9+bUFDf35tQJVB3vd//vXff/9+bvd///71vb2+6ubolUFDf3/9QJSWbvZunp6eOjo//373U1NRYWFh3JVBZWVna2dvfm3dQm9+Ghoajo6O+vr7g4OIAAAD//wDgxItJJSVqqOJJSYvE4OLg4KlqJUqKxOJJJWuo4OJqSSUlSWtJSWuKakolJUpqqMaKSSUlSYslJWuoaiVJisbEikolaqng4MaKSUrExItJJUrgqGvE4MaKqIuKxItJSUpqisbgxKnE4KlwvY5RAAABuUlEQVRIx+3VWVeCQBQAYAQmtCLLLEtbzDIr25ehKSyyRc00l/b+//9oZgBBDqHMQU4P3QfOdQb5uJdh4Lg/ERESYTi9A8cL4uhKiViaDhlaECiw12JP7RcPAALeED6MASkaA+MiPwEmZX4qDqRpzshnErNASg7pAFvjjO71QXPzKX5hURDTGRn/Wlpe4VaFrJGv5chkajhHh9YtaKMfysby0U2c8wV8rrSFBzFh5mkyOaSjQ9sWtONcDMV4Alek3zmvQ72cTA6uCFjQrgXtOVq3L6cz9OaThKBQ1sxzZFL2tSgOLOnQgEh/8oJ4VADHuVgiVaQLgEJiLyeTvhzuxIJOR7oznEX6Ft5/uAYMKfxACo4wIOUcB7PkDQEvCV2QN/wyGMhLQmrJ9U/u44Mq8pCChTwk/YJX1xpEN2V0C+40dP8AKtUaeCwxQC6SCZFnVC8/NWDzudXGnNrpVuGL2gmqIkfrkPra1ihaecMjiBH63TGhVvtdLeHmGSOMEHAMKC6rrvnRgK3ap0GwVuQMm6S/Rw2IuhqEX3QxUOi7Vi/7hVxCYdwd/G+qjBLD7s0msXwmmDbx0L57PwREbiNG9ndiAAAAAElFTkSuQmCC"}}]);