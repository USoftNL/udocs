"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[65297],{28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>t});var i=s(96540);const a={},o=i.createContext(a);function c(e){const n=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:c(e.components),i.createElement(o.Provider,{value:n},e.children)}},60813:(e,n,s)=>{s.d(n,{A:()=>i});const i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEUAAAAeCAMAAABNGiMvAAABjFBMVEX////t8vl7m9VSfchEcsR+ntbw8/pWf8pZgsvy9fuHpNmQrNxWgMpag8tco+TP7f3///vPsMREj+DJ7f3z5+qShsREcsyGwfDn+///9vCYcsREcs+SzPbz/f//6eil4P1uxfT5/////f9EctO26f//+/a9rtmGvPDz///53uBEctGx5P1Ect3J8v9EmOrn//3z9P//5OZccsREht+rwdmY2/tEcujh///z29+r5P//+PKlcsRcs+Sro9/P9v+NvuaSj+ie3v3/8u6Nt/L5//nJqMREsPDhycT///a2csREct9EmOjh/f/nztNEctv55OSN1/n//fSxhsR0zvf///fDncREhubb/f/54ONEj9WGpdmr4PvVvtmGodNccsyr5P3/+/fDtdl6pdmGnc9ondmGpeTV9v//9vKrpdmAlsx6j8R0odmGpezn////6+yN1Pn///nPt9ml3vu9mMREyfbz4uaGhsTh0ePV+P9XgMpZgcqKp9qNqdtUfsnz9vvs8fl6mtVQe8hTfcnu8vrVMJDKAAABQklEQVRIx2NgGI6AkYmZhVzAzMoGNYSdbDNAgIMTbAoXRYawsHCDTeGh0BResCkUGsLCMhJM4eMXEGRhERJmYBARBfHFxCUkpcAy0jKycmAReZAKvKYoKCoB1SirqKqpa2gC+VraDAwQU3R0lRjApujpGxga4TfF2MQUaIqZuQULi6WVNVDAxtYO6hZ7B3OwKY5Ozi6uhMIFZIqbhjuQ4eEJ4nvBTAGaDTLF28fXT9ffiEJTAgKDWIJDQokwBeIjiG40U8LCwXoijPCZEhkVLRATGxefkKiuYSGdlMySkpqWnpEZGZUllp2TmxeVlV9QGBUVVRRSjM+UEpCApJQxMKZLy0CWq4AELEoY3L3sQKzyCnD86OUiO2Zwp90BNqWSQkOqwKZUU2hKDdgUtlrKnFIHqQTqGxrJNqOJtXmgK0KaAAC260fo9jE9ZAAAAABJRU5ErkJggg=="},87647:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>r,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"Task_flow/Decisions/Decision_variables_and_placeholders","title":"Decision variables and placeholders","description":"When you call a Decision, you can pass values to it as input parameters. In the Decision itself, you can pass values retrieved by Decision SQL to the decision\'s Yes Action and No Action scripts.","source":"@site/docs/Task_flow/Decisions/Decision_variables_and_placeholders.md","sourceDirName":"Task_flow/Decisions","slug":"/Task_flow/Decisions/Decision_variables_and_placeholders","permalink":"/udocs/Task_flow/Decisions/Decision_variables_and_placeholders","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Decision_variables_and_placeholders"},"sidebar":"sidebar","previous":{"title":"Decisions","permalink":"/udocs/Task_flow/Decisions/"},"next":{"title":"Decision branching and looping","permalink":"/udocs/Task_flow/Decisions/Decision_branching_and_looping"}}');var a=s(74848),o=s(28453);const c={id:"Decision_variables_and_placeholders"},t="Decision variables and placeholders",r={},l=[{value:"Passing values to decisions as input parameters",id:"passing-values-to-decisions-as-input-parameters",level:2},{value:"Passing values between Decision SQL and Yes Action",id:"passing-values-between-decision-sql-and-yes-action",level:2},{value:"Referring to input parameter values in No Action",id:"referring-to-input-parameter-values-in-no-action",level:2},{value:"Passing values between Decision SQL and SqlScript()",id:"passing-values-between-decision-sql-and-sqlscript",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",hr:"hr",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"decision-variables-and-placeholders",children:"Decision variables and placeholders"})}),"\n",(0,a.jsx)(n.p,{children:"When you call a Decision, you can pass values to it as input parameters. In the Decision itself, you can pass values retrieved by Decision SQL to the decision's Yes Action and No Action scripts."}),"\n",(0,a.jsx)(n.h2,{id:"passing-values-to-decisions-as-input-parameters",children:"Passing values to decisions as input parameters"}),"\n",(0,a.jsxs)(n.p,{children:["When you call a Decision, you can pass values to it as the second, third... argument of the ",(0,a.jsx)(n.a,{href:"/udocs/Task_flow/Action_Language_reference_A-C/ActionDecision",children:"ActionDecision()"}),"****action:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"ActionDecision( 'MY_DECISION', 'Table1', 776 )\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"Each value passed is referenceable by a numbered placeholder ( :1, :2 ...) in the decision's Decision SQL:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"SELECT   ...\nWHERE    table_name = :1\nAND      id = :2\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Before the SQL statement is executed, each :1 placeholder is substituted by the value passed in first place (in the example, the ",(0,a.jsx)(n.strong,{children:"Table1"})," string), each :2 placeholder by the next value (in the example, the number ",(0,a.jsx)(n.strong,{children:"776"}),"), and so on."]}),"\n",(0,a.jsx)(n.h2,{id:"passing-values-between-decision-sql-and-yes-action",children:"Passing values between Decision SQL and Yes Action"}),"\n",(0,a.jsx)(n.p,{children:"In Decision Yes Actions you can refer to values retrieved by the Decision SQL, again by using numbered placeholders."}),"\n",(0,a.jsx)(n.p,{children:"(Decision SQL:)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"SELECT \xa0 \xa0value1\n, \xa0 \xa0 \xa0 \xa0 value2 ...\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"(Yes Action:)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"MessageInformation( :1 )\nMessageInformation( :2 )\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you use column aliases in the SELECT list, you can alternatively refer by the aliases:"}),"\n",(0,a.jsx)(n.p,{children:"(Decision SQL:)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:'SELECT \xa0 \xa0value1 "ALIAS_1"\n, \xa0 \xa0 \xa0 \xa0 value2 "ALIAS_2"...\n\n'})}),"\n",(0,a.jsx)(n.p,{children:"(Yes Action:)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"MessageInformation( :ALIAS_1 )\nMessageInformation( :ALIAS_2 )\n"})}),"\n",(0,a.jsx)(n.h2,{id:"referring-to-input-parameter-values-in-no-action",children:"Referring to input parameter values in No Action"}),"\n",(0,a.jsx)(n.p,{children:"It does not make sense to refer to values retrieved by Decision SQL in the No Action, since No Action is reached only if the query does not retrieve any records."}),"\n",(0,a.jsx)(n.p,{children:"Numbered placeholders in No Actions refer to the input parameters with which the decision was called, in the order in which they were passed. They work the same as numbered placeholders in the Decision SQL."}),"\n",(0,a.jsx)(n.h2,{id:"passing-values-between-decision-sql-and-sqlscript",children:"Passing values between Decision SQL and SqlScript()"}),"\n",(0,a.jsx)(n.p,{children:"A popular pattern is to catch outputs from Decision SQL and use them in SqlScript() calls."}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:s(60813).A+"",width:"69",height:"30"})}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.a,{href:"/udocs/Modeller_and_Rules_Engine/SQL_syntax/Host_variables_in_SQL",children:"back tick syntax"})," explained here is available from USoft 10.1.1A."]}),"\n",(0,a.jsx)(n.p,{children:"(Decision SQL:)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"SELECT \xa0 \xa0automation\n, \xa0 \xa0 \xa0 \xa0 java ...\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"(Yes Action:)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"SqlScript( \n` UPDATE \xa0appcomponent \n \xa0SET \xa0 \xa0 processed = 'Y'\n \xa0WHERE \xa0 autom = :1\n \xa0AND \xa0 \xa0 java_class = :2`\n, :1\n, :2\n)\n\n"})}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:["Prior to USoft 10.1.1A, SqlScript() does not itself process the numbered placeholders, so you must cast them to global ",(0,a.jsx)(n.a,{href:"/udocs/Task_flow/Action_Language_reference/USoft_Action_Language",children:"named variables"}),". You can do that with ResourceFileUpdate():"]}),"\n",(0,a.jsx)(n.p,{children:"(Decision SQL:)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-sql",children:"SELECT \xa0 \xa0automation\n, \xa0 \xa0 \xa0 \xa0 java ...\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"(Yes Action:)"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"ResourceFileUpdate( 'global.automation:' || :1 )\nResourceFileUpdate( 'global.java:' || :2 )\n\nSqlScript( \n \xa0UPDATE \xa0appcomponent \n \xa0SET \xa0 \xa0 processed = 'Y'\n \xa0WHERE \xa0 autom = :\"global.automation\"\n \xa0AND \xa0 \xa0 java_class = :\"global.automation\"\n)\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"In this pattern, the syntax for storing a value in a variable is:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"ResourceFileUpdate( '*variable-name* : *variable-value*' )\n\n"})}),"\n",(0,a.jsx)(n.p,{children:"The stored value is now named and may be accessed repeatedly by name until it is cleared or reset. The syntax for accessing a stored value is:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:':"*variable*"\n\n'})}),"\n",(0,a.jsx)(n.admonition,{type:"danger",children:(0,a.jsxs)(n.p,{children:["With this technique, you are effectively creating ",(0,a.jsx)(n.em,{children:"global"})," variables that are available in the entire application session. This is always dangerous because it is hard to know exactly when they are next referred to. Make sure you call each given variable only in 1 place: the 1 Decision Yes Action."]})}),"\n",(0,a.jsx)(n.p,{children:"\xa0"})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);