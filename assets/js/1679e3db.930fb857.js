"use strict";(self.webpackChunkudocs=self.webpackChunkudocs||[]).push([[88940],{28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>i});var t=a(96540);const r={},o=t.createContext(r);function s(e){const n=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:n},e.children)}},66134:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Task_flow/Jobs/Invoking_a_job_via_Batchrunner","title":"Invoking a job via Batchrunner","description":"For each job, the internal BatchRunner component automatically contains a job method that has the same name as the job. Calling the job method executes the job.","source":"@site/docs/Task_flow/Jobs/Invoking_a_job_via_Batchrunner.md","sourceDirName":"Task_flow/Jobs","slug":"/Task_flow/Jobs/Invoking_a_job_via_Batchrunner","permalink":"/udocs/Task_flow/Jobs/Invoking_a_job_via_Batchrunner","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"Invoking_a_job_via_Batchrunner"},"sidebar":"sidebar","previous":{"title":"Executing a Job from a Constraint","permalink":"/udocs/Task_flow/Jobs/Executing_a_Job_from_a_Constraint"},"next":{"title":"Getting job properties from Batchrunner","permalink":"/udocs/Task_flow/Jobs/Getting_job_properties_from_Batchrunner"}}');var r=a(74848),o=a(28453);const s={id:"Invoking_a_job_via_Batchrunner"},i="Invoking a job via Batchrunner",c={},l=[];function h(e){const n={admonition:"admonition",code:"code",em:"em",h1:"h1",header:"header",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"invoking-a-job-via-batchrunner",children:"Invoking a job via Batchrunner"})}),"\n",(0,r.jsxs)(n.p,{children:["For each job, the internal BatchRunner component automatically contains a ",(0,r.jsx)(n.em,{children:"job method"})," that has the same name as the job. Calling the job method executes the job."]}),"\n",(0,r.jsx)(n.p,{children:"A job method returns a record set if the job has an output parameter set. Otherwise, it returns the NULL value. If a record set is returned, each record has as many column values are there are elements in the output parameter set."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Syntax: INVOKE"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"INVOKE \xa0 BatchRunner.job \nWITH\nSELECT \xa0 value \xa0 \xa0 parameter\n, \xa0 \xa0 \xa0 \xa0...\n\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Parameters (if any) are passed in the SELECT output list. The ",(0,r.jsx)(n.em,{children:"value"})," is a SQL column expression, and the ",(0,r.jsx)(n.em,{children:"parameter"})," is a column alias. A column alias**that contains a special symbol such as a space (\xa0) or a hyphen must be surrounded by double quotes to avoid misinterpretation of the special symbol by the SQL parser. Double-quoting of column aliases is always legal."]}),"\n",(0,r.jsx)(n.p,{children:"Parameters are always passed by name and may appear in any order."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Syntax: SELECT (function call syntax)"})}),"\n",(0,r.jsxs)(n.p,{children:["If the job call returns at most one (that is: 0 or 1) records and the job has exactly 1 output parameter, then you can use ",(0,r.jsx)(n.em,{children:"function call syntax"})," as an alternative for INVOKE. In function call syntax, SELECT replaces INVOKE and the method name is followed by parentheses. Input parameters (if any) are passed inside the parentheses that follow the job name:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"SELECT \xa0 BatchRunner.job (\n \xa0 \xa0 \xa0 \xa0 value \xa0 \xa0 parameter\n, \xa0 \xa0 \xa0 \xa0...\n)\n\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"Example"})}),"\n",(0,r.jsxs)(n.p,{children:["A job called ",(0,r.jsx)(n.strong,{children:"MyJob"})," takes a ",(0,r.jsx)(n.strong,{children:"contract_id"})," value and returns a record structure defined by a primary key and two other columns. It may return any number of records or none at all. Returned records are inserted into a table T1. The job execution itself may involve any additional number of data manipulations."]}),"\n",(0,r.jsx)(n.p,{children:"\xa0"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-sql",children:"INSERT INTO T1 (\n \xa0 \xa0 \xa0 \xa0 \xa0pk\n, \xa0 \xa0 \xa0 \xa0 col1\n, \xa0 \xa0 \xa0 \xa0 col2\n)\nINVOKE \xa0 \xa0BatchRunner.MyJob WITH\nSELECT \xa0 \xa0'BZ-23' \xa0 \xa0\"contract_id\"\n, \xa0 \xa0 \xa0 \xa0 'true' \xa0 \xa0 \"-quiet\"\n\n"})}),"\n",(0,r.jsx)(n.p,{children:"\xa0"}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"In this example, -quiet is a predefined parameter."})}),"\n",(0,r.jsx)(n.p,{children:"\xa0"}),"\n",(0,r.jsx)(n.p,{children:"\xa0"}),"\n",(0,r.jsx)(n.p,{children:"\xa0"}),"\n",(0,r.jsx)(n.p,{children:"\xa0"}),"\n",(0,r.jsx)(n.p,{children:"\xa0"}),"\n",(0,r.jsx)(n.p,{children:"\xa0"}),"\n",(0,r.jsx)(n.p,{children:"\xa0"})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}}}]);